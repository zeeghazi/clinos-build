(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[102],{1137:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var n=a(29),c=a(0),i=a(436),s=a(414),o=a(438),r=a(97),l=a(442),d=a(446),u=a(445),j=a(447),b=a(443),h=a(444),f=a(95),p=a(43),m=a.n(p),O=a(99),x=a(533),g=a(534),v=a(56),H=a.n(v),k=a(44),y=a(57),w=new(function(){function e(){Object(x.a)(this,e)}return Object(g.a)(e,[{key:"getHandouts",value:function(){return H.a.get("".concat(k.a,"/handouts/"),{headers:Object(y.a)()})}},{key:"createHandouts",value:function(e){return H.a.post("".concat(k.a,"/handouts/"),e,{headers:Object(y.a)()})}},{key:"deleteHandout",value:function(e){return H.a.delete("".concat(k.a,"/handouts/").concat(e),{headers:Object(y.a)()})}}]),e}()),N=a(1),B=Object(i.a)((function(e){return{root:{flexGrow:1,padding:"25px 0px"},table:{minWidth:650},titleButtonWrap:{display:"flex",marginBottom:e.spacing(2),"& label":{marginLeft:e.spacing(4)}},contentWrap:{display:"flex"},handoutTable:{marginTop:e.spacing(4)},tableHead:{"& th":{fontWeight:600}},actionButton:{padding:0,margin:0,minWidth:0}}})),W=function(){var e=B(),t=Object(O.b)().enqueueSnackbar,a=Object(c.useState)([]),i=Object(n.a)(a,2),p=i[0],x=i[1],g=Object(c.useCallback)((function(){w.getHandouts().then((function(e){x(e.data.data)}))}),[]);Object(c.useEffect)((function(){g()}),[g]);var v=function(e){var a,n=e.target.files,c=new FormData;c.append("file",n[0]),a=c,w.createHandouts(a).then((function(e){t("".concat(e.data.message),{variant:"success"}),g()})).catch((function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t("".concat(a),{variant:"error"})}))};return Object(N.jsx)("div",{className:e.root,children:Object(N.jsx)(o.a,{container:!0,children:Object(N.jsxs)(o.a,{item:!0,md:7,xs:12,children:[Object(N.jsxs)("div",{className:e.titleButtonWrap,children:[Object(N.jsx)(f.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"Handouts"}),Object(N.jsxs)(s.a,{variant:"outlined",component:"label",children:["Add",Object(N.jsx)("input",{type:"file",id:"file",accept:".pdf, .txt, .doc, .docx, image/*",hidden:!0,onChange:function(e){return v(e)}})]})]}),Object(N.jsx)("p",{children:"These are files we give to patients about specific topics."}),Object(N.jsx)(j.a,{component:r.a,elevation:0,className:e.handoutTable,children:Object(N.jsxs)(l.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(N.jsx)(b.a,{className:e.tableHead,children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(u.a,{align:"left",padding:"none",children:"Filename"}),Object(N.jsx)(u.a,{align:"left",children:"Actions"}),Object(N.jsx)(u.a,{align:"left",children:"Created"}),Object(N.jsx)(u.a,{align:"left",children:"CreatedBy"})]})}),Object(N.jsx)(d.a,{children:p.map((function(a){return Object(N.jsxs)(h.a,{children:[Object(N.jsx)(u.a,{padding:"none",component:"th",scope:"row",children:a.filename}),Object(N.jsx)(u.a,{align:"left",children:Object(N.jsx)(s.a,{className:e.actionButton,onClick:function(){return e=a.id,void w.deleteHandout(e).then((function(e){g(),t("".concat(e.data.message),{variant:"success"})}));var e},children:"Delete"})}),Object(N.jsx)(u.a,{align:"left",children:m()(a.created).format("ll")}),Object(N.jsx)(u.a,{align:"left",children:a.name})]},a.filename)}))})]})})]})})})}}}]);
//# sourceMappingURL=102.d9ff1857.chunk.js.map