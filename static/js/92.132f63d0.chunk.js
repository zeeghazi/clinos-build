(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[92],{1113:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(29),i=a(0),c=a(436),r=a(414),o=a(438),l=a(7),s=a(97),u=a(442),d=a(446),j=a(445),b=a(447),m=a(443),p=a(444),f=a(95),h=a(43),O=a.n(h),x=a(99),v=a(28),g=a(16),y=a(778),w=a(1),N=Object(c.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},tableContainer:{width:500,marginTop:e.spacing(1)},patientLink:{color:e.palette.text.link,cursor:"pointer"},placeholderText:{textAlign:"center",padding:"100px",fontWeight:"500",fontSize:"30px",opacity:"20%"},overFlowControl:{maxWidth:"130px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}})),S=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(j.a),k=Object(l.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12}}}}))(p.a);function C(){var e=N(),t=Object(x.b)().enqueueSnackbar,a=Object(v.g)(),c=Object(g.a)().user,r=Object(i.useState)([]),l=Object(n.a)(r,2),h=l[0],C=l[1];return Object(i.useEffect)((function(){y.a.getActivityHistory(c.id).then((function(e){C(e.data)}),(function(){t("Unable to fetch Activity history.",{variant:"error"})}))}),[]),Object(w.jsx)("div",{className:e.root,children:Object(w.jsx)("div",{className:e.paper,children:Object(w.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(w.jsx)(f.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Activity History"}),Object(w.jsx)(f.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page shows a user's activity history"}),Object(w.jsx)(b.a,{component:s.a,className:e.tableContainer,children:Object(w.jsxs)(u.a,{className:e.table,"aria-label":"a dense table",children:[Object(w.jsx)(m.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(S,{children:"Time"}),Object(w.jsx)(S,{children:"Patient ID"}),Object(w.jsx)(S,{children:"Patient Name"}),Object(w.jsx)(S,{children:"Action"})]})}),Object(w.jsx)(d.a,{children:h.map((function(t,n){return Object(w.jsxs)(k,{children:[Object(w.jsx)(j.a,{component:"th",scope:"row",children:O()(t.dt).format("lll")}),Object(w.jsx)(j.a,{component:"th",scope:"row",className:e.patientLink,onClick:function(){return a.push("/patients/".concat(t.patient_id))},children:t.patient_id}),Object(w.jsx)(j.a,{component:"th",scope:"row",className:e.patientLink,onClick:function(){return a.push("/patients/".concat(t.patient_id))},children:t.patient}),Object(w.jsx)(j.a,{children:t.action})]},n)}))})]})})]})})})}var P=Object(c.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},tableContainer:{width:500,marginTop:e.spacing(1)},patientLink:{color:"#2979FF",cursor:"pointer"},placeholderText:{textAlign:"center",padding:"100px",fontWeight:"500",fontSize:"30px",opacity:"20%"},overFlowControl:{maxWidth:"130px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}})),z=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(j.a),E=Object(l.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12}}}}))(p.a);function T(){var e=P(),t=Object(x.b)().enqueueSnackbar,a=Object(g.a)().user,c=Object(i.useState)([]),r=Object(n.a)(c,2),l=r[0],h=r[1];return Object(i.useEffect)((function(){y.a.getLogins(a.id).then((function(e){h(e.data)}),(function(){t("Unable to fetch data.",{variant:"error"})}))}),[a]),Object(w.jsx)("div",{className:e.root,children:Object(w.jsx)("div",{className:e.paper,children:Object(w.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(w.jsx)(f.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Login History"}),Object(w.jsx)(f.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page shows a user's logins"}),Object(w.jsx)(b.a,{component:s.a,className:e.tableContainer,children:Object(w.jsxs)(u.a,{className:e.table,"aria-label":"a dense table",children:[Object(w.jsx)(m.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(z,{children:"Time"}),Object(w.jsx)(z,{children:"IP Address"})]})}),Object(w.jsx)(d.a,{children:l.map((function(e,t){return Object(w.jsxs)(E,{children:[Object(w.jsx)(j.a,{component:"th",scope:"row",children:O()(e.dt).format("lll")}),Object(w.jsx)(j.a,{component:"th",scope:"row",children:e.ip})]},t)}))})]})})]})})})}var M=a(4),A=(a(25),a(469)),F=a(470),W=a(477),_=a(439),L=(a(638),Object(c.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:180},form:{display:"flex",flexDirection:"column",marginTop:e.spacing(1)},formElment:{marginTop:e.spacing(2),width:"250px"},submit:{width:"100px",marginTop:e.spacing(4)}}})));function Y(){var e=L(),t=Object(x.b)().enqueueSnackbar,a=Object(g.a)().user,c=Object(i.useState)(""),l=Object(n.a)(c,2),s=l[0],u=l[1],d=Object(i.useState)(""),j=Object(n.a)(d,2),b=j[0],m=j[1],p=Object(i.useState)(""),h=Object(n.a)(p,2),v=h[0],N=h[1],S=Object(i.useState)(O()().format("YYYY-MM-DD")),k=Object(n.a)(S,2),C=k[0],P=k[1],z=Object(i.useState)([]),E=Object(n.a)(z,2),T=E[0],Y=E[1],B=Object(i.useState)(null),D=Object(n.a)(B,2),I=D[0],H=D[1],G=Object(i.useState)(""),U=Object(n.a)(G,2),q=U[0],J=U[1],R=Object(i.useState)(""),V=Object(n.a)(R,2),K=V[0],Q=V[1],X=Object(i.useCallback)((function(){y.a.getForwardEmail(a.id).then((function(e){Y(e.data)}))}),[a]),Z=Object(i.useCallback)((function(){y.a.getProfile(a.id).then((function(e){var t=e.data;u("".concat(t.firstname," ").concat(t.lastname)),m(t.email),N(t.title),P(O()(t.created).format("YYYY-MM-DD")),H(t.email_forward_user_id),J(t.phone)}))}),[a]);return Object(i.useEffect)((function(){X(),Z()}),[Z,X]),Object(w.jsx)("div",{className:e.root,children:Object(w.jsx)("div",{className:e.paper,children:Object(w.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(w.jsx)(f.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Profile"}),Object(w.jsx)(f.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page is used to manage a user's basic information"}),Object(w.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var i=s.split(" "),c=Object(n.a)(i,2),r=c[0],o=c[1],l={data:Object(M.a)(Object(M.a)({firstname:r,lastname:o,email:b,title:v,created:C},I>0&&{email_forward_user_id:I}),{},{phone:q},K.length&&{password:K})};y.a.updateProfile(l,a.id).then((function(e){t(e.data.message,{variant:"success"})}),(function(){t("Unable to update profile",{variant:"error"})}))}(e)},children:[Object(w.jsx)(_.a,{autoFocus:!0,variant:"outlined",label:"Name",value:s,className:e.formElment,onChange:function(e){return u(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(w.jsx)(_.a,{variant:"outlined",label:"Title",value:v,className:e.formElment,onChange:function(e){return N(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(w.jsx)(_.a,{variant:"outlined",label:"Email",value:b,className:e.formElment,onChange:function(e){return m(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(w.jsx)(_.a,{variant:"outlined",id:"date",label:"Created",value:C,className:e.formElment,onChange:function(e){return P(e.target.value)},type:"date",size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(w.jsxs)(A.a,{variant:"outlined",className:e.formElment,size:"small",children:[Object(w.jsx)(F.a,{htmlFor:"age-native-simple",children:"Forward Email"}),Object(w.jsxs)(W.a,{native:!0,value:I,onChange:function(e){H(e.target.value)},inputProps:{name:"Forward Email",id:"age-native-simple"},label:"Forward Email",children:[Object(w.jsx)("option",{value:-1,children:"Select User"}),T.map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(w.jsx)(_.a,{variant:"outlined",label:"Phone",value:q,className:e.formElment,onChange:function(e){J(e.target.value.slice(0,25))},size:"small"}),Object(w.jsx)(_.a,{variant:"outlined",label:"Password",value:K,type:"password",className:e.formElment,onChange:function(e){return Q(e.target.value)},size:"small"}),Object(w.jsx)(r.a,{size:"medium",type:"submit",variant:"contained",color:"primary",className:e.submit,children:"Save"})]})]})})})}var B=Object(c.a)((function(e){return{root:{flexGrow:1,padding:"10px 0px"},ButtonWraps:{marginBottom:"40px"},active:{color:e.palette.primary.main,borderBottom:"1px solid #2979ff"}}})),D=function(){var e=B(),t=i.useState("history"),a=Object(n.a)(t,2),c=a[0],l=a[1];return Object(w.jsx)("div",{className:e.root,children:Object(w.jsx)(o.a,{container:!0,justify:"center",spacing:0,children:Object(w.jsx)(o.a,{item:!0,md:12,xs:12,children:Object(w.jsxs)(o.a,{item:!0,md:6,xs:12,children:[Object(w.jsxs)("div",{className:e.ButtonWraps,children:[Object(w.jsx)(r.a,{onClick:function(){return l("history")},className:"history"===c?e.active:"",children:"My Activity History"}),Object(w.jsx)(r.a,{onClick:function(){return l("profile")},className:"profile"===c?e.active:"",children:"My Profile"}),Object(w.jsx)(r.a,{onClick:function(){return l("login")},className:"login"===c?e.active:"",children:"My Logins"})]}),"history"===c&&Object(w.jsx)(C,{}),"login"===c&&Object(w.jsx)(T,{}),"profile"===c&&Object(w.jsx)(Y,{})]})})})})}},778:function(e,t,a){"use strict";var n=a(533),i=a(534),c=a(56),r=a.n(c),o=a(44),l=a(57),s=function(){function e(){Object(n.a)(this,e)}return Object(i.a)(e,[{key:"getProfile",value:function(e){return r.a.get("".concat(o.a,"/myself/profile/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"updateProfile",value:function(e,t){return r.a.put("".concat(o.a,"/myself/profile/").concat(t),e,{headers:Object(l.a)()})}},{key:"getForwardEmail",value:function(e){return r.a.get("".concat(o.a,"/myself/forward-email/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"getLogins",value:function(e){return r.a.get("".concat(o.a,"/myself/logins/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"getActivityHistory",value:function(e){return r.a.get("".concat(o.a,"/myself/activity-history/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}}]),e}();t.a=new s}}]);
//# sourceMappingURL=92.132f63d0.chunk.js.map