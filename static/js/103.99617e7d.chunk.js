(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[103],{1121:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return J}));var c=n(29),a=n(0),i=n(436),o=n(441),r=n(438),s=n(95),d=n(533),l=n(534),h=n(56),u=n.n(h),j=n(44),b=n(57),x=new(function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,[{key:"search",value:function(e){return u.a.post("".concat(j.a,"/icd"),e,{headers:Object(b.a)()})}},{key:"addFavorite",value:function(e,t,n){return u.a.post("".concat(j.a,"/icd/").concat(e,"/").concat(t),n,{headers:Object(b.a)()})}},{key:"deleteFavorite",value:function(e){return u.a.delete("".concat(j.a,"/icd/").concat(e),{headers:Object(b.a)()})}}]),e}()),p=n(439),m=n(450),f=n(453),O=n(414),g=n(1),v=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"column",margin:"10px 0"},controlLabel:{marginLeft:"0px",marginRight:"0px"},textField:{width:"250px"},submit:{marginTop:e.spacing(1),padding:"4px 30px",fontSize:"1rem",maxWidth:"100px"},check:{marginLeft:"7px",marginTop:"5px"}}})),k=function(e){var t=e.fetchSearchIcdCodes,n=e.textChangeHandler,c=e.checkBoxChangeHandler,a=v(),i=function(e){13===e.keyCode&&t()};return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsx)(p.a,{size:"small",variant:"outlined",autoFocus:!0,onChange:n,className:a.textField,name:"searchTerm",label:"Name",onKeyUp:function(e){return i(e)}}),Object(g.jsx)(m.a,{control:Object(g.jsx)(f.a,{onChange:c,color:"primary",onKeyUp:function(e){return i(e)},name:"favorite",size:"small",className:a.check}),label:"Favorite"}),Object(g.jsx)(O.a,{size:"small",type:"submit",variant:"contained",color:"primary",className:a.submit,onClick:t,children:"Search"})]})},y=n(7),C=n(445),S=n(444),z=n(447),T=n(97),F=n(442),N=n(443),w=n(446),B=n(577),I=n(43),H=n.n(I),D=n(99),U=n(16),A=Object(i.a)((function(e){return{tableContainer:{minWidth:450,marginTop:e.spacing(2)},actions:{textAlign:"center",display:"flex",border:"none","& button":{fontSize:"12px"}}}})),L=Object(y.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(C.a),R=Object(y.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12,height:"50px"}}}}))(S.a),W=function(e){var t=e.result,n=e.fetchSearchIcdCodes,i=A(),o=Object(D.b)().enqueueSnackbar,r=Object(U.a)().user,s=Object(a.useState)(t),d=Object(c.a)(s,2),l=d[0],h=d[1],u=Object(a.useState)([]),j=Object(c.a)(u,2),b=j[0],p=j[1];return Object(g.jsxs)("div",{children:[b&&b.map((function(e,t){return Object(g.jsx)(B.a,{severity:"error",children:e.msg},t)})),Object(g.jsx)(z.a,{component:T.a,className:i.tableContainer,children:Object(g.jsxs)(F.a,{size:"small",className:i.table,"aria-label":"a dense table",children:[Object(g.jsx)(N.a,{children:Object(g.jsxs)(S.a,{children:[Object(g.jsx)(L,{padding:"checkbox",children:"Code"}),Object(g.jsx)(L,{padding:"checkbox",children:"Description"}),Object(g.jsx)(L,{padding:"checkbox",children:"Favorites"}),Object(g.jsx)(L,{padding:"checkbox",children:"Updated"}),Object(g.jsx)(L,{padding:"checkbox",children:"Updated By"})]})}),Object(g.jsx)(w.a,{children:t.map((function(e){return Object(g.jsxs)(R,{children:[Object(g.jsx)(C.a,{padding:"checkbox",component:"th",scope:"row",children:e.id}),Object(g.jsx)(C.a,{padding:"checkbox",children:e.name}),Object(g.jsx)(C.a,{padding:"checkbox",children:Object(g.jsx)(m.a,{control:Object(g.jsx)(f.a,{size:"small",checked:Boolean(e.favorite),name:"switchBox",color:"primary",onChange:function(c){!function(e,n){var c={icd_id:n},a=e.target.checked;h(t.map((function(e){return n===e.id&&(e.favorite=a),l}))),!0===a?x.addFavorite(n,r.id,c).then((function(e){setTimeout((function(){o("".concat(e.data.message),{variant:"success"})}),300)}),(function(e){setTimeout((function(){p(e.response.error)}),300)})):x.deleteFavorite(n).then((function(e){setTimeout((function(){o("".concat(e.data.message),{variant:"success"})}),300)}),(function(e){setTimeout((function(){p(e.response.error)}),300)}))}(c,e.id),setTimeout((function(){n()}),200)}})})}),Object(g.jsx)(C.a,{padding:"checkbox",children:e.updated?H()(e.updated).format("lll"):""}),Object(g.jsx)(C.a,{padding:"checkbox",children:e.updated_name})]},e.id)}))})]})})]})},E=Object(i.a)((function(e){return{root:{flexGrow:1,padding:"25px 0px"},card:{minHeight:300,display:"flex",alignItems:"center",justifyContent:"center"},title:{paddingBottom:e.spacing(.5)}}})),J=function(){var e=E(),t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],d=n[1],l=Object(a.useState)(!1),h=Object(c.a)(l,2),u=h[0],j=h[1],b=Object(a.useState)([]),p=Object(c.a)(b,2),m=p[0],f=p[1],O={searchTerm:i,checkBox:u},v=function(){x.search(O).then((function(e){f(e.data.data)}))};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(o.a,{children:Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(s.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"ICD Codes"}),Object(g.jsx)(s.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page is used to manage ICD codes."}),Object(g.jsx)(r.a,{container:!0,spacing:2,children:Object(g.jsxs)(r.a,{item:!0,md:12,xs:12,children:[Object(g.jsx)(k,{fetchSearchIcdCodes:v,textChangeHandler:function(e){d(e.target.value)},checkBoxChangeHandler:function(e){j(e.target.checked)}}),m.length>0&&Object(g.jsx)(W,{result:m,fetchSearchIcdCodes:v})]})})]})})})}}}]);
//# sourceMappingURL=103.99617e7d.chunk.js.map