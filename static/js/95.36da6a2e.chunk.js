(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[95],{1111:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n=a(29),c=a(0),r=a(436),i=a(414),o=a(438),l=a(7),s=a(97),u=a(442),d=a(446),j=a(445),b=a(447),f=a(443),p=a(444),m=a(95),h=a(43),O=a.n(h),x=a(99),g=a(28),v=a(16),y=a(533),w=a(534),k=a(56),N=a.n(k),S=a(44),C=a(57),P=new(function(){function e(){Object(y.a)(this,e)}return Object(w.a)(e,[{key:"getProfile",value:function(e){return N.a.get("".concat(S.a,"/corporate/myself/profile/").concat(e),{headers:Object(C.a)()}).then((function(e){return e.data}))}},{key:"updateProfile",value:function(e,t){return N.a.put("".concat(S.a,"/corporate/myself/profile/").concat(t),e,{headers:Object(C.a)()})}},{key:"getForwardEmail",value:function(e){return N.a.get("".concat(S.a,"/corporate/myself/forward-email/").concat(e),{headers:Object(C.a)()}).then((function(e){return e.data}))}},{key:"getLogins",value:function(e){return N.a.get("".concat(S.a,"/corporate/myself/logins/").concat(e),{headers:Object(C.a)()}).then((function(e){return e.data}))}},{key:"getActivityHistory",value:function(e){return N.a.get("".concat(S.a,"/corporate/myself/activity-history/").concat(e),{headers:Object(C.a)()}).then((function(e){return e.data}))}}]),e}()),z=a(1),E=Object(r.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},tableContainer:{width:500,marginTop:e.spacing(1)},patientLink:{color:e.palette.text.link,cursor:"pointer"},placeholderText:{textAlign:"center",padding:"100px",fontWeight:"500",fontSize:"30px",opacity:"20%"},overFlowControl:{maxWidth:"130px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}})),T=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(j.a),A=Object(l.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12}}}}))(p.a);function F(){var e=E(),t=Object(x.b)().enqueueSnackbar,a=Object(g.g)(),r=Object(v.a)().user,i=Object(c.useState)([]),l=Object(n.a)(i,2),h=l[0],y=l[1];return Object(c.useEffect)((function(){P.getActivityHistory(r.id).then((function(e){y(e.data)}),(function(){t("Unable to fetch Activity history.",{variant:"error"})}))}),[]),Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)("div",{className:e.paper,children:Object(z.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(z.jsx)(m.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Activity History"}),Object(z.jsx)(m.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page shows a user's activity history"}),Object(z.jsx)(b.a,{component:s.a,className:e.tableContainer,children:Object(z.jsxs)(u.a,{className:e.table,"aria-label":"a dense table",children:[Object(z.jsx)(f.a,{children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(T,{children:"Time"}),Object(z.jsx)(T,{children:"Patient ID"}),Object(z.jsx)(T,{children:"Patient Name"}),Object(z.jsx)(T,{children:"Action"})]})}),Object(z.jsx)(d.a,{children:h.map((function(t,n){return Object(z.jsxs)(A,{children:[Object(z.jsx)(j.a,{component:"th",scope:"row",children:O()(t.dt).format("lll")}),Object(z.jsx)(j.a,{component:"th",scope:"row",className:e.patientLink,onClick:function(){return a.push("/patients/".concat(t.patient_id))},children:t.patient_id}),Object(z.jsx)(j.a,{component:"th",scope:"row",className:e.patientLink,onClick:function(){return a.push("/patients/".concat(t.patient_id))},children:t.patient}),Object(z.jsx)(j.a,{children:t.action})]},n)}))})]})})]})})})}var M=a(778),L=Object(r.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},tableContainer:{width:500,marginTop:e.spacing(1)},patientLink:{color:"#2979FF",cursor:"pointer"},placeholderText:{textAlign:"center",padding:"100px",fontWeight:"500",fontSize:"30px",opacity:"20%"},overFlowControl:{maxWidth:"130px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}})),W=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(j.a),_=Object(l.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12}}}}))(p.a);function Y(){var e=L(),t=Object(x.b)().enqueueSnackbar,a=Object(v.a)().user,r=Object(c.useState)([]),i=Object(n.a)(r,2),l=i[0],h=i[1];return Object(c.useEffect)((function(){M.a.getLogins(a.id).then((function(e){h(e.data)}),(function(){t("Unable to fetch data.",{variant:"error"})}))}),[a]),Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)("div",{className:e.paper,children:Object(z.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(z.jsx)(m.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Login History"}),Object(z.jsx)(m.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page shows a user's logins"}),Object(z.jsx)(b.a,{component:s.a,className:e.tableContainer,children:Object(z.jsxs)(u.a,{className:e.table,"aria-label":"a dense table",children:[Object(z.jsx)(f.a,{children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(W,{children:"Time"}),Object(z.jsx)(W,{children:"IP Address"})]})}),Object(z.jsx)(d.a,{children:l.map((function(e,t){return Object(z.jsxs)(_,{children:[Object(z.jsx)(j.a,{component:"th",scope:"row",children:O()(e.dt).format("lll")}),Object(z.jsx)(j.a,{component:"th",scope:"row",children:e.ip})]},t)}))})]})})]})})})}var B=a(4),D=(a(25),a(469)),H=a(470),I=a(477),G=a(439),U=(a(638),Object(r.a)((function(e){return{root:{flexGrow:1},title:{paddingBottom:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:180},form:{display:"flex",flexDirection:"column",marginTop:e.spacing(1)},formElment:{marginTop:e.spacing(2),width:"250px"},submit:{width:"100px",marginTop:e.spacing(4)}}})));function q(){var e=U(),t=Object(x.b)().enqueueSnackbar,a=Object(v.a)().user,r=Object(c.useState)(""),l=Object(n.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)(""),j=Object(n.a)(d,2),b=j[0],f=j[1],p=Object(c.useState)(""),h=Object(n.a)(p,2),g=h[0],y=h[1],w=Object(c.useState)(O()().format("YYYY-MM-DD")),k=Object(n.a)(w,2),N=k[0],S=k[1],C=Object(c.useState)([]),E=Object(n.a)(C,2),T=E[0],A=E[1],F=Object(c.useState)(null),M=Object(n.a)(F,2),L=M[0],W=M[1],_=Object(c.useState)(""),Y=Object(n.a)(_,2),q=Y[0],J=Y[1],R=Object(c.useState)(""),V=Object(n.a)(R,2),K=V[0],Q=V[1],X=Object(c.useCallback)((function(){P.getForwardEmail(a.id).then((function(e){A(e.data)}))}),[a]),Z=Object(c.useCallback)((function(){P.getProfile(a.id).then((function(e){var t=e.data;u("".concat(t.firstname," ").concat(t.lastname)),f(t.email),y(t.title),S(O()(t.created).format("YYYY-MM-DD")),W(t.email_forward_user_id),J(t.phone)}))}),[a]);return Object(c.useEffect)((function(){X(),Z()}),[Z,X]),Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)("div",{className:e.paper,children:Object(z.jsxs)(o.a,{container:!0,direction:"column",justify:"center",children:[Object(z.jsx)(m.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"My Profile"}),Object(z.jsx)(m.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page is used to manage a user's basic information"}),Object(z.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var c=s.split(" "),r=Object(n.a)(c,2),i=r[0],o=r[1],l={data:Object(B.a)(Object(B.a)({firstname:i,lastname:o,email:b,title:g,created:N},L>0&&{email_forward_user_id:L}),{},{phone:q},K.length&&{password:K})};P.updateProfile(l,a.id).then((function(e){t(e.data.message,{variant:"success"})}),(function(){t("Unable to update profile",{variant:"error"})}))}(e)},children:[Object(z.jsx)(G.a,{autoFocus:!0,variant:"outlined",label:"Name",value:s,className:e.formElment,onChange:function(e){return u(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(z.jsx)(G.a,{variant:"outlined",label:"Title",value:g,className:e.formElment,onChange:function(e){return y(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(z.jsx)(G.a,{variant:"outlined",label:"Email",value:b,className:e.formElment,onChange:function(e){return f(e.target.value)},size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(z.jsx)(G.a,{variant:"outlined",id:"date",label:"Created",value:N,className:e.formElment,onChange:function(e){return S(e.target.value)},type:"date",size:"small",disabled:!0,InputProps:{readOnly:!0}}),Object(z.jsxs)(D.a,{variant:"outlined",className:e.formElment,size:"small",children:[Object(z.jsx)(H.a,{htmlFor:"age-native-simple",children:"Forward Email"}),Object(z.jsxs)(I.a,{native:!0,value:L,onChange:function(e){W(e.target.value)},inputProps:{name:"Forward Email",id:"age-native-simple"},label:"Forward Email",children:[Object(z.jsx)("option",{value:-1,children:"Select User"}),T.map((function(e){return Object(z.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(z.jsx)(G.a,{variant:"outlined",label:"Phone",value:q,className:e.formElment,onChange:function(e){J(e.target.value.slice(0,25))},size:"small"}),Object(z.jsx)(G.a,{variant:"outlined",label:"Password",value:K,type:"password",className:e.formElment,onChange:function(e){return Q(e.target.value)},size:"small"}),Object(z.jsx)(i.a,{size:"medium",type:"submit",variant:"contained",color:"primary",className:e.submit,children:"Save"})]})]})})})}var J=Object(r.a)((function(e){return{root:{flexGrow:1,padding:"10px 0px"},ButtonWraps:{marginBottom:"40px"},active:{color:e.palette.primary.main,borderBottom:"1px solid #2979ff"}}})),R=function(){var e=J(),t=c.useState("history"),a=Object(n.a)(t,2),r=a[0],l=a[1];return Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)(o.a,{container:!0,justify:"center",spacing:0,children:Object(z.jsx)(o.a,{item:!0,md:12,xs:12,children:Object(z.jsxs)(o.a,{item:!0,md:6,xs:12,children:[Object(z.jsxs)("div",{className:e.ButtonWraps,children:[Object(z.jsx)(i.a,{onClick:function(){return l("history")},className:"history"===r?e.active:"",children:"My Activity History"}),Object(z.jsx)(i.a,{onClick:function(){return l("profile")},className:"profile"===r?e.active:"",children:"My Profile"}),Object(z.jsx)(i.a,{onClick:function(){return l("login")},className:"login"===r?e.active:"",children:"My Logins"})]}),"history"===r&&Object(z.jsx)(F,{}),"profile"===r&&Object(z.jsx)(q,{}),"login"===r&&Object(z.jsx)(Y,{})]})})})})}},778:function(e,t,a){"use strict";var n=a(533),c=a(534),r=a(56),i=a.n(r),o=a(44),l=a(57),s=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getProfile",value:function(e){return i.a.get("".concat(o.a,"/myself/profile/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"updateProfile",value:function(e,t){return i.a.put("".concat(o.a,"/myself/profile/").concat(t),e,{headers:Object(l.a)()})}},{key:"getForwardEmail",value:function(e){return i.a.get("".concat(o.a,"/myself/forward-email/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"getLogins",value:function(e){return i.a.get("".concat(o.a,"/myself/logins/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}},{key:"getActivityHistory",value:function(e){return i.a.get("".concat(o.a,"/myself/activity-history/").concat(e),{headers:Object(l.a)()}).then((function(e){return e.data}))}}]),e}();t.a=new s}}]);
//# sourceMappingURL=95.36da6a2e.chunk.js.map