{"version":3,"sources":["services/setup/handouts.service.js","screens/Client/Setup/Handouts/Handouts.js"],"names":["axios","get","API_BASE","headers","authHeader","data","post","id","delete","useStyles","makeStyles","theme","root","flexGrow","padding","table","minWidth","titleButtonWrap","display","marginBottom","spacing","marginLeft","contentWrap","handoutTable","marginTop","tableHead","fontWeight","actionButton","margin","Handouts","classes","enqueueSnackbar","useSnackbar","useState","handouts","setHandouts","fetchHandouts","useCallback","HandoutService","getHandouts","then","response","useEffect","handleHandoutsFile","e","reqBody","files","target","fd","FormData","append","createHandouts","message","variant","catch","error","resMessage","toString","className","Grid","container","item","md","xs","Typography","component","color","title","Button","type","accept","hidden","onChange","TableContainer","Paper","elevation","Table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","handout","scope","filename","onClick","deleteHandout","moment","created","format","name"],"mappings":"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","file":"static/js/102.d9ff1857.chunk.js","sourcesContent":["import axios from \"axios\";\n\nimport { API_BASE } from \"../../utils/API_BASE\";\nimport authHeader from \"../auth-header\";\n\nclass HandoutService {\n  getHandouts() {\n    return axios.get(`${API_BASE}/handouts/`, {\n      headers: authHeader(),\n    });\n  }\n\n  createHandouts(data) {\n    return axios.post(`${API_BASE}/handouts/`, data, {\n      headers: authHeader(),\n    });\n  }\n\n  deleteHandout(id) {\n    return axios.delete(`${API_BASE}/handouts/${id}`, {\n      headers: authHeader(),\n    });\n  }\n}\n\nexport default new HandoutService();\n","import React, { useCallback, useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport HandoutService from \"../../../../services/setup/handouts.service\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: \"25px 0px\",\n  },\n  table: {\n    minWidth: 650,\n  },\n  titleButtonWrap: {\n    display: \"flex\",\n    marginBottom: theme.spacing(2),\n    \"& label\": {\n      marginLeft: theme.spacing(4),\n    },\n  },\n  contentWrap: {\n    display: \"flex\",\n  },\n  handoutTable: {\n    marginTop: theme.spacing(4),\n  },\n  tableHead: {\n    \"& th\": {\n      fontWeight: 600,\n    },\n  },\n  actionButton: {\n    padding: 0,\n    margin: 0,\n    minWidth: 0,\n  },\n}));\n\nconst Handouts = () => {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  const [handouts, setHandouts] = useState([]);\n\n  const fetchHandouts = useCallback(() => {\n    HandoutService.getHandouts().then((response) => {\n      setHandouts(response.data.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    fetchHandouts();\n  }, [fetchHandouts]);\n\n  const createHandout = (reqBody) => {\n    HandoutService.createHandouts(reqBody)\n      .then((response) => {\n        enqueueSnackbar(`${response.data.message}`, { variant: \"success\" });\n        fetchHandouts();\n      })\n      .catch((error) => {\n        const resMessage = (error.response\n          && error.response.data\n          && error.response.data.message)\n          || error.message\n          || error.toString();\n        enqueueSnackbar(`${resMessage}`, { variant: \"error\" });\n      });\n  };\n\n  const handleHandoutsFile = (e) => {\n    const { files } = e.target;\n    const fd = new FormData();\n    fd.append(\"file\", files[0]);\n    createHandout(fd);\n  };\n\n  const handleDelete = (id) => {\n    HandoutService.deleteHandout(id).then((response) => {\n      fetchHandouts();\n      enqueueSnackbar(`${response.data.message}`, {\n        variant: \"success\",\n      });\n    });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item md={7} xs={12}>\n          <div className={classes.titleButtonWrap}>\n            <Typography\n              component=\"h1\"\n              variant=\"h2\"\n              color=\"textPrimary\"\n              className={classes.title}\n            >\n              Handouts\n            </Typography>\n            <Button\n              variant=\"outlined\"\n              component=\"label\"\n            >\n              Add\n              <input\n                type=\"file\"\n                id=\"file\"\n                accept=\".pdf, .txt, .doc, .docx, image/*\"\n                hidden\n                onChange={(e) => handleHandoutsFile(e)}\n              />\n            </Button>\n          </div>\n          <p>These are files we give to patients about specific topics.</p>\n          <TableContainer component={Paper} elevation={0} className={classes.handoutTable}>\n            <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n              <TableHead className={classes.tableHead}>\n                <TableRow>\n                  <TableCell align=\"left\" padding=\"none\">Filename</TableCell>\n                  <TableCell align=\"left\">Actions</TableCell>\n                  <TableCell align=\"left\">Created</TableCell>\n                  <TableCell align=\"left\">CreatedBy</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {handouts.map((handout) => (\n                  <TableRow key={handout.filename}>\n                    <TableCell\n                      padding=\"none\"\n                      component=\"th\"\n                      scope=\"row\"\n                    >\n                      {handout.filename}\n                    </TableCell>\n                    <TableCell align=\"left\">\n                      <Button\n                        className={classes.actionButton}\n                        onClick={() => handleDelete(handout.id)}\n                      >\n                        Delete\n                      </Button>\n                    </TableCell>\n                    <TableCell align=\"left\">{moment(handout.created).format(\"ll\")}</TableCell>\n                    <TableCell align=\"left\">{handout.name}</TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Handouts;\n"],"sourceRoot":""}