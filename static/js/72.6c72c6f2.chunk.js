(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[72],{1117:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var c=n(29),a=n(0),o=n(436),i=n(414),r=n(462),s=n(450),l=n(463),d=n(438),u=n(97),b=n(442),j=n(446),p=n(447),h=n(443),x=n(95),m=n(43),O=n.n(m),g=n(564),f=n(550),v=n(533),S=n(534),C=n(56),w=n.n(C),y=n(44),k=n(57),z=new(function(){function e(){Object(v.a)(this,e),this.getStatus=function(){return w.a.get("".concat(y.a,"/support/status"),{headers:Object(k.a)()})},this.getSuport=function(e){return w.a.get("".concat(y.a,"/support?cStatus=").concat(e),{headers:Object(k.a)()})}}return Object(S.a)(e,[{key:"createCase",value:function(e){return w.a.post("".concat(y.a,"/support"),e,{headers:Object(k.a)()})}}]),e}()),N=n(13),B=n(4),F=n(439),T=n(99),H=n(553),W=n(1),A=Object(o.a)((function(e){return{formInput:{marginBottom:e.spacing(4)}}})),P=function(e){var t=A(),n=Object(T.b)().enqueueSnackbar,o=e.isOpen,r=e.onClose,s=Object(a.useState)({subject:"",message:""}),l=Object(c.a)(s,2),u=l[0],b=l[1],j=function(e){var t=e.target,n=t.value,c=t.name;b(Object(B.a)(Object(B.a)({},u),{},Object(N.a)({},c,n)))};return Object(W.jsx)(H.a,{open:o,title:"New Case",message:Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={data:{message:u.message,subject:u.subject}};z.createCase(t).then((function(e){n("".concat(e.message),{variant:"success"}),r()}))},children:[Object(W.jsx)(d.a,{className:t.formInput,item:!0,md:4,children:Object(W.jsx)(F.a,{required:!0,autoFocus:!0,variant:"standard",name:"subject",id:"subject",label:"Subject",type:"text",fullWidth:!0,value:u.subject,onChange:function(e){return j(e)}})}),Object(W.jsx)(d.a,{item:!0,lg:2,children:Object(W.jsx)(x.a,{gutterBottom:!0,variant:"body1",color:"textPrimary",children:"Message"})}),Object(W.jsx)(d.a,{className:t.formInput,item:!0,md:12,children:Object(W.jsx)(F.a,{required:!0,variant:"outlined",name:"message",id:"message",type:"text",fullWidth:!0,value:u.message,onChange:function(e){return j(e)},multiline:!0,rows:5})}),Object(W.jsx)(d.a,{children:Object(W.jsx)(i.a,{variant:"outlined",type:"submit",children:"Save"})})]}),cancelForm:function(){return r()},hideActions:!0,size:"md"})},E=Object(o.a)((function(e){return{root:{flexGrow:1,padding:"25px 0px"},title:{paddingBottom:e.spacing(.5)},tableContainer:{marginTop:e.spacing(2)},actions:{textAlign:"center",display:"flex",border:"none","& button":{fontSize:"12px"}},customSelect:{width:"185px",margin:e.spacing(2,0,0,0)},submit:{margin:e.spacing(2,0,2),width:"185px"},overFlowControl:{maxWidth:"130px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},statusGroup:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function I(){var e=E(),t=Object(a.useState)(""),n=Object(c.a)(t,2),o=n[0],m=n[1],v=Object(a.useState)([]),S=Object(c.a)(v,2),C=S[0],w=S[1],y=Object(a.useState)([]),k=Object(c.a)(y,2),N=k[0],B=k[1],F=Object(a.useState)(""),T=Object(c.a)(F,2),H=T[0],A=T[1],I=Object(a.useState)(!1),M=Object(c.a)(I,2),q=M[0],G=M[1],_=function(){return G((function(e){return!e}))},D=Object(a.useCallback)((function(){z.getSuport(o).then((function(e){e.data.data.length>0?B(e.data.data):(B([]),A("None Found"))}))}),[o]);return Object(a.useEffect)((function(){D()}),[o,D]),Object(a.useEffect)((function(){z.getStatus().then((function(e){return w(e.data.data)}))}),[]),Object(W.jsxs)(W.Fragment,{children:[!!q&&Object(W.jsx)(P,{isOpen:q,onClose:_}),Object(W.jsxs)("div",{className:e.root,children:[Object(W.jsxs)(d.a,{container:!0,direction:"column",children:[Object(W.jsxs)(d.a,{item:!0,md:4,xs:12,children:[Object(W.jsxs)(d.a,{container:!0,justify:"space-between",children:[Object(W.jsx)(x.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"Technical Support"}),Object(W.jsx)(i.a,{variant:"outlined",color:"primary",onClick:function(){return _()},children:"New"})]}),Object(W.jsx)(x.a,{component:"p",variant:"body2",color:"textPrimary",children:"This page is used for support"})]}),Object(W.jsx)(d.a,{item:!0,xs:12,sm:12,children:Object(W.jsxs)(r.a,{className:e.statusGroup,row:!0,value:o,onChange:function(e){return m(e.target.value)},name:"generic",defaultValue:"all","aria-label":"position",children:[C.map((function(e){return Object(W.jsx)(s.a,{value:e.id,label:e.name,control:Object(W.jsx)(l.a,{color:"primary"})},e.id)})),Object(W.jsx)(s.a,{value:"",label:"All",control:Object(W.jsx)(l.a,{color:"primary"})},Math.random())]})})]}),N.length>0?Object(W.jsx)(p.a,{component:u.a,className:e.tableContainer,children:Object(W.jsxs)(b.a,{size:"small",className:e.table,"aria-label":"a dense table",children:[Object(W.jsx)(h.a,{children:Object(W.jsxs)(f.d,{children:[Object(W.jsx)(f.b,{padding:"checkbox",children:"Case ID"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Client"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Subject"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Status"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Created"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Created By"}),Object(W.jsx)(f.b,{padding:"checkbox",children:"Updated"})]})}),Object(W.jsx)(j.a,{children:N.map((function(t){return Object(W.jsxs)(f.d,{children:[Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:t.id}),Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:t.client_name}),t.subject.length>40?Object(W.jsx)(g.a,{className:e.overFlowControl,title:t.subject,children:Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:t.subject})}):Object(W.jsx)(f.b,{padding:"checkbox",className:e.overFlowControl,component:"th",scope:"row",children:t.subject}),Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:t.case_status}),Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:O()(t.created).format("lll")}),Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:t.created_user}),Object(W.jsx)(f.b,{padding:"checkbox",component:"th",scope:"row",children:O()(t.updated).format("lll")})]},t.id)}))})]})}):Object(W.jsx)(x.a,{component:"p",variant:"body2",color:"textPrimary",children:H})]})]})}},550:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var c=n(7),a=n(445),o=n(444),i=Object(c.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(a.a),r=Object(c.a)((function(){return{head:{whiteSpace:"nowrap",fontSize:"12px",fontWeight:700,padding:"6px 24px 6px 2px",borderBottom:"unset",background:"white"},body:{fontSize:12,borderBottom:"unset"}}}))(a.a),s=Object(c.a)((function(e){return{root:{"& p":{fontSize:12,lineHeight:"21px"},fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12,whiteSpace:"nowrap",padding:"2px 16px 2px 2px"},"& td":{fontSize:12,whiteSpace:"nowrap",padding:"2px 16px 2px 2px"}}}}))(o.a),l=Object(c.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12,height:"50px"}}}}))(o.a)},553:function(e,t,n){"use strict";var c=n(13),a=(n(0),n(413)),o=n(95),i=n(414),r=n(455),s=n(452),l=n(456),d=n(451),u=n(436),b=n(350),j=n(570),p=n.n(j),h=n(3),x=n(1),m=Object(u.a)((function(e){return Object(b.a)({titleContainer:{textAlign:"center",borderBottom:"1px solid #ddd",minHeight:53},content:{padding:"1rem 2rem",maxHeight:"86vh"},fullScreenContent:{maxHeight:"unset"},fullHeight:{minHeight:"86vh"},buttonClose:{position:"absolute",right:e.spacing(1),top:e.spacing(1),padding:e.spacing(1)},save:{background:e.palette.success,minWidth:100},cancel:{background:e.palette.error,minWidth:100}})})),O=function(e){var t,n=e.title,u=e.open,b=e.message,j=e.applyForm,O=e.cancelForm,g=e.hideActions,f=e.applyButtonText,v=e.cancelButtonText,S=e.size,C=e.fullScreen,w=e.fullHeight,y=e.transitionComponent,k=m();return Object(x.jsx)("div",{children:Object(x.jsxs)(r.a,{fullScreen:Boolean(C),open:u,onClose:O,fullWidth:!0,maxWidth:S,TransitionComponent:y,children:[O&&Object(x.jsx)(a.a,{className:k.buttonClose,onClick:O,"aria-label":"close",children:Object(x.jsx)(p.a,{fontSize:"small"})}),Object(x.jsx)(d.a,{disableTypography:!0,className:k.titleContainer,id:"form-dialog-title",children:Object(x.jsx)(o.a,{variant:"h5",children:n})}),Object(x.jsx)(l.a,{className:Object(h.a)((t={},Object(c.a)(t,k.content,!0),Object(c.a)(t,k.fullHeight,w),Object(c.a)(t,k.fullScreenContent,C),t)),children:b}),g?null:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(s.a,{align:"center",children:[j&&Object(x.jsx)(i.a,{className:k.save,onClick:j,color:"primary",type:"submit",variant:"contained",children:f}),O&&Object(x.jsx)(i.a,{className:k.cancel,onClick:O,color:"secondary",type:"submit",variant:"contained",children:v})]})})]})})};O.defaultProps={title:"",message:null,applyForm:function(){},cancelForm:function(){},hideActions:!0,applyButtonText:"Continue",cancelButtonText:"Cancel",size:"lg",fullScreen:!1,fullHeight:!1,transitionComponent:void 0},t.a=O},564:function(e,t,n){"use strict";var c=n(459),a=n(7),o=Object(a.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:13}}}))(c.a);t.a=o}}]);
//# sourceMappingURL=72.6c72c6f2.chunk.js.map