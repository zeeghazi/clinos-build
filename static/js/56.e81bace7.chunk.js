(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[56],{1098:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(29),i=a(0),s=a.n(i),o=a(434),c=a(410),l=a(441),u=a(436),d=a(95),m=a(200),p=a.n(m),b=a(577),j=a(99),h=a(28),f=a(15),g=a(557),y=a(609),x=a(783),O=a(1),v=Object(u.a)((function(e){return{pageTitle:{marginBottom:e.spacing(3)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},ErrorSection:{minHeight:"300px"},avatar:{margin:e.spacing(1),backgroundColor:"transparent",color:e.palette.text.secondary},lockIcon:{fontSize:"40px"},link:{cursor:"pointer",textDecoration:"underline"}}}));t.default=function(){var e=v(),t=Object(h.g)(),a=Object(j.b)().enqueueSnackbar,u=Object(h.i)().clientCode,m=s.a.useState(null),_=Object(r.a)(m,2),w=_[0],q=_[1],T=s.a.useState([]),C=Object(r.a)(T,2),P=C[0],N=C[1],k=s.a.useState([]),I=Object(r.a)(k,2),S=I[0],z=I[1],W=s.a.useState(!1),B=Object(r.a)(W,2),R=B[0],E=B[1];Object(i.useEffect)((function(){y.a.getClientCode(u).then((function(e){q(e.data[0])}),(function(e){if(e.response){var t=e.response,a=t.data;400===t.status?N([{msg:a.message}]):z([])}}))}),[u]);var F=function(){return Object(O.jsxs)("div",{className:e.paper,children:[Object(O.jsx)(o.a,{className:e.avatar,children:Object(O.jsx)(p.a,{className:e.lockIcon})}),Object(O.jsx)(d.a,{component:"h1",variant:"h2",className:e.pageTitle,children:"".concat(w&&w.name," Registration Confirmation")}),Object(O.jsxs)(d.a,{variant:"body2",gutterBottom:!0,children:["The registration was successful. Please login to the portal"," ",Object(O.jsx)("span",{"aria-hidden":"true",className:e.link,onClick:function(){t.push("/login/".concat(u))},children:"here"}),"."]})]})};return Object(O.jsxs)(c.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(l.a,{}),R&&Object(O.jsx)(F,{}),!R&&(P.length>0?Object(O.jsxs)("div",{className:"".concat(e.paper," ").concat(e.ErrorSection),children:[Object(O.jsx)(g.a,{errors:P,variant:"filled"}),Object(O.jsxs)(b.a,{icon:!1,severity:"info",children:["Go back to"," ",Object(O.jsx)(f.a,{to:"/",children:"Home page"})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:e.paper,children:[Object(O.jsx)(o.a,{className:e.avatar,children:Object(O.jsx)(p.a,{className:e.lockIcon})}),Object(O.jsxs)(d.a,{component:"h1",variant:"h2",className:e.pageTitle,children:["Register with"," ",w&&w.name]}),Object(O.jsx)(d.a,{variant:"body2",gutterBottom:!0,children:"To register as a new patient, please enter your infromation in the fields below. Please do not use this form if you are already patient."}),Object(O.jsx)(d.a,{variant:"body2",gutterBottom:!0,children:"If you would like to amend your information, please send a Secure Message or call our office."}),Object(O.jsxs)(d.a,{variant:"body2",gutterBottom:!0,children:["If you are already a registered patient with online access, you can log in"," ",Object(O.jsx)(f.a,{to:"/login/".concat(u),children:"here"})]})]}),Object(O.jsx)(x.b,{onFormSubmit:function(e){var t=e;t.patient=Object(n.a)(Object(n.a)({},t.patient),{},{client_id:null===w||void 0===w?void 0:w.client_id}),y.a.register(t).then((function(e){a("".concat(e.data.message),{variant:"success"}),E(!0)}),(function(e){e.response&&z(e.response.data.message)}))},errors:S})]}))]})}},557:function(e,t,a){"use strict";a(0);var n=a(577),r=a(1),i=function(e){var t=e.errors,a=e.variant,i=e.children;return Object(r.jsx)(r.Fragment,{children:t&&t.map((function(e,t){return Object(r.jsxs)(n.a,{severity:"error",variant:a,children:[e.msg,i]},t)}))})};i.defaultProps={errors:null,children:null,variant:"outlined"},t.a=i},573:function(e,t,a){"use strict";a(0);var n=a(426),r=a(439),i=a(578),s=a(1);function o(e){var t=e.country,a=e.size,o=e.handleChange,c=e.outlined,l=e.margin;return Object(s.jsx)(r.a,{size:a,id:"country",label:"Country",value:t,select:!0,onChange:function(e){return o("country",e.target.value)},fullWidth:!0,variant:c?"outlined":"standard",margin:l||"none",children:i.a.map((function(e){return Object(s.jsx)(n.a,{value:e,children:e[0]},e[0])}))})}o.defaultProps={size:"medium",country:null,outlined:!0,margin:"none"},t.a=o},574:function(e,t,a){"use strict";var n=a(29),r=(a(0),a(426)),i=a(439),s=a(1),o=function(e){return e?e[2].split("|").map((function(e){var t=e.split("~"),a=Object(n.a)(t,2),r=a[0];return[void 0===r?null:r,a[1]]})):[]};function c(e){var t=e.size,a=e.label,n=e.region,c=e.handleChange,l=e.outlined,u=e.country,d=e.margin;return Object(s.jsx)(i.a,{size:t,id:"state",label:a,value:n,select:!0,onChange:function(e){return c("region",e.target.value)},fullWidth:!0,variant:l?"outlined":"standard",margin:d||"none",children:o(u).map((function(e){return Object(s.jsx)(r.a,{value:e[1],children:e[0]},e[0])}))})}c.defaultProps={size:"medium",outlined:!0,margin:"none"},t.a=c},609:function(e,t,a){"use strict";var n=a(21),r=a.n(n),i=a(33),s=a(533),o=a(534),c=a(56),l=a.n(c),u=a(44),d=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("".concat(u.a,"/auth/patient/login"),{client_id:t.client_id,email:t.email,password:t.password});case 2:if(!(a=e.sent).data){e.next=6;break}return a.data.data.accessToken&&localStorage.setItem("user",JSON.stringify(a.data.data)),e.abrupt("return",a.data);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClientCode",value:function(e){return l.a.get("".concat(u.a,"/auth/patient/client/?c=").concat(e)).then((function(e){return e.data}))}},{key:"validate",value:function(e){return l.a.post("".concat(u.a,"/auth/field/validate"),e)}},{key:"register",value:function(e){return l.a.post("".concat(u.a,"/auth/patient/signup"),e)}},{key:"passwordChangeRequest",value:function(e,t){return l.a.post("".concat(u.a,"/auth/patient/reset_password/").concat(e),t)}},{key:"resetPassword",value:function(e,t,a){return l.a.post("".concat(u.a,"/auth/patient/reset/").concat(e,"/").concat(t),{password:a})}}]),e}();t.a=new d},615:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={basicInfo:[{name:"firstname",id:"firstname",label:"First Name",baseType:"input",type:"text",options:[],required:!0},{name:"middlename",id:"middlename",label:"Middle Name",baseType:"input",type:"text",options:[],required:!1},{name:"lastname",id:"lastname",label:"Last Name",baseType:"input",type:"text",options:[],required:!0},{name:"dob",id:"dob",label:"",baseType:"input",type:"date",options:[],required:!0},{name:"ssn",id:"ssn",label:"Social Security",baseType:"input",type:"text",options:[],required:!1},{name:"nickName",id:"nickName",label:"Nick Name",baseType:"input",type:"text",options:[],required:!1},{name:"aboutUs",id:"aboutUs",label:"How did you hear about us?",baseType:"input",type:"text",options:[],required:!0},{name:"gender",id:"gender",label:"Gender",baseType:"select",type:null,required:!0,options:[{label:"",value:""},{label:"Male",value:"M"},{label:"Female",value:"F"}]}],addressDetails:[{name:"address",id:"address",label:"Address",baseType:"input",type:"text",options:[],required:!0},{name:"address2",id:"address2",label:"Address 2",baseType:"input",type:"text",options:[],required:!0},{name:"city",id:"city",label:"City",baseType:"input",type:"text",options:[],required:!0},{name:"postal",id:"postal",label:"Zip/Postal",baseType:"input",type:"text",options:[],required:!0}],contactInfo:[{name:"phone_home",id:"phone_home",label:"Home Phone",baseType:"input",type:"text",options:[],required:!0},{name:"phone_cell",id:"phone_cell",label:"Cell Phone",baseType:"input",type:"text",options:[],required:!1},{name:"phone_work",id:"phone_work",label:"Work Phone",baseType:"input",type:"text",options:[],required:!1},{name:"email",id:"email",label:"Email",baseType:"input",type:"email",options:[],required:!0},{name:"contactPreference",id:"contactPreference",label:"Contact Preference",baseType:"select",type:null,required:!1,options:[{label:"Mobile Phone",value:"mobile"},{label:"Home Phone",value:"home"},{label:"Work Phone",value:"work"}]}],emergencyInfo:[{name:"emergency_firstname",id:"emergency_firstname",label:"First Name",baseType:"input",type:"text",options:[],required:!1},{name:"emergency_middlename",id:"emergency_middlename",label:"Middle Name",baseType:"input",type:"text",options:[],required:!1},{name:"emergency_lastname",id:"emergency_lastname",label:"Last Name",baseType:"input",type:"text",options:[],required:!1},{name:"emergency_relationship",id:"emergency_relationship",label:"Relationship",baseType:"input",type:"text",options:[],required:!1},{name:"emergency_email",id:"emergencyemail",label:"Email",baseType:"input",type:"email",options:[],required:!1},{name:"emergency_phone",id:"emergency_phone",label:"Contact Number",baseType:"input",type:"number",options:[],required:!1}],insuranceInfo:[{name:"insurance_name",id:"insurance_name",label:"Plan Name",baseType:"input",type:"text",options:[],required:!1},{name:"insurance_group",id:"insurance_group",label:"Group Number",baseType:"input",type:"text",options:[],required:!1},{name:"insurance_member",id:"insurance_member",label:"Member Id",baseType:"input",type:"text",options:[],required:!1},{name:"insuranceType",id:"insuranceType",label:"Insurance Type",baseType:"input",type:"text",options:[],required:!1}],medicalInfo:[{name:"height",id:"height",label:"Height in (INCHES)",baseType:"input",type:"number",options:[],required:!0},{name:"weight",id:"weight",label:"Weight in (POUNDS)",baseType:"input",type:"number",options:[],required:!0},{name:"medical_note",id:"medical_note",label:"Reason For Consult",baseType:"input",type:"number",options:[],required:!0}],userNamePasswordDetails:[{name:"password",id:"password",label:"Password",baseType:"input",type:"password",options:[],required:!0},{name:"confirmPassword",id:"confirmPassword",label:"Confirm Password",baseType:"input",type:"password",options:[],required:!0}]}},783:function(e,t,a){"use strict";a.d(t,"b",(function(){return C})),a.d(t,"a",(function(){return k}));var n=a(84),r=a(13),i=a(4),s=a(29),o=a(0),c=a(438),l=a(95),u=a(439),d=a(426),m=a(411),p=a(414),b=a(436),j=a(577),h=a(195),f=a.n(h),g=a(578),y=a(573),x=a(557),O=a(574),v=a(609),_=a(615),w=a(1),q=Object(b.a)((function(e){return{inputRow:{margin:e.spacing(3,0)},sigCanvas:{border:"1px solid grey"},sigCanvasClear:{position:"absolute",background:"#f3f3f3",top:"-20px"},sigCanvasSave:{position:"absolute",background:"#f3f3f3",top:"30px"},sigImage:{backgroundSize:"200px 50px",width:"200px",height:"50px",backgroundColor:"white"},signupActions:{marginTop:e.spacing(1)}}})),T=function(e){var t=q(),a=e.errors,b=e.onFormSubmit,h=_.a.basicInfo,T=_.a.addressDetails,C=_.a.contactInfo,P=_.a.emergencyInfo,N=_.a.insuranceInfo,k=_.a.medicalInfo,I=_.a.userNamePasswordDetails,S=Object(o.useState)({firstname:"",middlename:"",lastname:"",gender:"",address:"",address2:"",country:g.a.find((function(e){return"US"===(null===e||void 0===e?void 0:e[1])})),state:"",city:"",postal:"",contactPreference:""}),z=Object(s.a)(S,2),W=z[0],B=z[1],R=Object(o.useState)([]),E=Object(s.a)(R,2),F=E[0],M=E[1],A=function(e){var t=e.target,a=t.value,n=t.name;B(Object(i.a)(Object(i.a)({},W),{},Object(r.a)({},n,a)))},D=function(e,t){if("country"===e)B(Object(i.a)(Object(i.a)({},W),{},Object(r.a)({},e,t)));else if("region"===e){B(Object(i.a)(Object(i.a)({},W),{},Object(r.a)({},"state",t)))}},H=a&&a.filter((function(e){return e.param.includes("patient")})),U=function(e,t){var a="client.".concat(t);return e&&(a="".concat(e,".").concat(t)),F&&F.filter((function(e){return e.param===a}))},G=function(e,t){e.target&&v.a.validate({fieldName:e.target.name,value:e.target.value,target:t||"patient"}).then((function(e){var t=F.filter((function(t){return t.param!==e.data.message.param}));M(t)}),(function(e){if(e.response){var t=f.a.uniqWith([].concat(Object(n.a)(F),[e.response.data.message]),f.a.isEqual);M(t)}else console.error(e)})).catch((function(e){console.error("catch err",e)}))};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={patient:{status:"A",firstname:W.firstname,middlename:W.middlename,lastname:W.lastname,address:W.address,address2:W.address2,city:W.city,state:W.state,postal:W.postal,country:W.country[0],phone_home:W.phone_home,phone_cell:W.phone_cell,phone_work:W.phone_work,phone_other:W.phone_other,phone_note:W.phone_note,email:W.email,password:W.password,dob:W.dob,ssn:W.ssn,gender:W.gender,emergency_firstname:W.emergency_firstname,emergency_middlename:W.emergency_middlename,emergency_lastname:W.lastname,emergency_relationship:W.emergency_relationship,emergency_email:W.emergency_email,emergency_phone:W.emergency_phone,insurance_name:W.insurance_name,insurance_group:W.insurance_group,insurance_member:W.insurance_member,insurance_phone:W.insurance_phone,insurance_desc:W.insurance_desc,primary_reason:W.primary_reason,admin_note:W.admin_note,medical_note:W.medical_note,referred_by:W.referred_by,height:W.height,waist:W.waist,weight:W.weigh}};b(t)},children:[Object(w.jsxs)(c.a,{className:t.inputRow,children:[H&&H.map((function(e,t){return Object(w.jsx)(j.a,{severity:"error",variant:"filled",children:e.msg},t)})),Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Basic Information"}),Object(w.jsx)(c.a,{container:!0,spacing:1,children:h.map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:4,children:"input"===e.baseType?Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)}}):Object(w.jsxs)(u.a,{required:e.required,size:"small",variant:"outlined",select:!0,placeholder:e.label,label:e.label,id:e.id,name:e.name,value:W[e.name],fullWidth:!0,onChange:function(e){return A(e)},children:[Object(w.jsx)(d.a,{value:""},-1),e.options.map((function(e,t){return Object(w.jsx)(d.a,{value:e.value,children:e.label},t)}))]})},t)}))})]}),Object(w.jsx)(m.a,{}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Address Information"}),Object(w.jsxs)(c.a,{container:!0,spacing:1,children:[T.map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:4,children:Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)}})},t)})),Object(w.jsx)(c.a,{item:!0,lg:4,children:Object(w.jsx)(y.a,{size:"small",id:"country-select",error:null,name:"country-select",helperText:"",label:"Country",outlined:!0,handleChange:function(e,t){return D(e,t)},country:W.country})}),Object(w.jsx)(c.a,{item:!0,lg:4,children:Object(w.jsx)(O.a,{size:"small",id:"state-select",error:null,name:"state-select",helperText:"",label:"State",outlined:!0,handleChange:function(e,t){return D(e,t)},country:W.country,region:W.state})})]})]}),Object(w.jsx)(m.a,{}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Contact Information"}),Object(w.jsx)(c.a,{container:!0,spacing:1,alignItems:"flex-end",children:C.map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:4,children:"input"===e.baseType?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)},onBlur:function(t){return("email"===e.name||"ssn"===e.name)&&G(t)}}),Object(w.jsx)(x.a,{errors:U("patient",e.name)})]}):Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",select:!0,placeholder:e.label,label:e.label,id:e.id,name:e.name,value:W[e.name],fullWidth:!0,onChange:function(e){return A(e)},children:e.options.map((function(e,t){return Object(w.jsx)(d.a,{value:e.value,children:e.label},t)}))})},t)}))})]}),Object(w.jsx)(m.a,{}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Emergency Information"}),Object(w.jsx)(c.a,{container:!0,spacing:1,children:P.map((function(e,t){return Object(w.jsxs)(c.a,{item:!0,md:4,children:[Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)},onBlur:function(t){return"emergency_email"===e.name&&G(t)}}),Object(w.jsx)(x.a,{errors:U("patient",e.name)})]},t)}))})]}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Insurance Information"}),Object(w.jsx)(c.a,{container:!0,spacing:1,children:N.map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:4,children:Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)}})},t)}))})]}),Object(w.jsx)(m.a,{}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Medical Information"}),Object(w.jsxs)(c.a,{container:!0,spacing:1,children:[k.slice(0,2).map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:6,children:Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)}})},t)})),k.slice(2,3).map((function(e,t){return Object(w.jsx)(c.a,{item:!0,md:12,children:Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)},multiline:!0,rows:5})},t)}))]})]}),Object(w.jsx)(m.a,{}),Object(w.jsxs)(c.a,{className:t.inputRow,children:[Object(w.jsx)(l.a,{variant:"h4",color:"textPrimary",gutterBottom:!0,children:"Set Password for Patient Portal"}),Object(w.jsx)(c.a,{container:!0,spacing:1,children:I.map((function(e,t){return Object(w.jsxs)(c.a,{item:!0,md:4,children:[Object(w.jsx)(u.a,{required:e.required,size:"small",variant:"outlined",label:e.label,name:e.name,id:e.id,type:e.type,fullWidth:!0,onChange:function(e){return A(e)},onBlur:function(t){return("password"===e.name||"confirmPassword"===e.name)&&function(e){if(e.target.value.length<8)M([].concat(Object(n.a)(F),[{value:e.target.value,msg:"Too Weak. Must be atleast 8 Characters",param:"patient.".concat(e.target.name)}]));else{var t=F.filter((function(t){return t.param!=="patient.".concat(e.target.name)}));M(t)}if("confirmPassword"===e.target.name)if(W.password!==W.confirmPassword)M([].concat(Object(n.a)(F),[{value:e.target.value,msg:"Passwords must be same",param:"patient.".concat(e.target.name)}]));else{var a=F.filter((function(t){return t.param!=="patient.".concat(e.target.name)}));M(a)}}(t)}}),Object(w.jsx)(x.a,{errors:U("patient",e.name)})]},t)}))})]}),Object(w.jsx)(c.a,{container:!0,justify:"center",className:t.signupActions,children:Object(w.jsx)(p.a,{disabled:!W.email||F.length>0||!W.password,variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})};T.defaultProps={errors:null,onFormSubmit:function(){}};var C=T,P=a.p+"static/media/NoClientLogo.4083c1ce.png",N=function(e){var t=e.src,a=e.alt,n=e.className,r=e.onErrorImage,i=Object(o.useRef)(null);return Object(w.jsx)("img",{src:t,alt:a,className:n,onError:function(){i.current.src=r},ref:i})};N.defaultProps={onErrorImage:P};var k=N}}]);
//# sourceMappingURL=56.e81bace7.chunk.js.map