(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[75],{1096:function(e,a,t){"use strict";t.r(a);var r=t(29),n=t(0),s=t(434),o=t(414),c=t(410),i=t(441),u=t(436),l=t(439),d=t(95),p=t(200),m=t.n(p),f=t(99),j=t(28),b=t(557),v=t(687),g=t(992),h=t(1),O=Object(u.a)((function(e){return{root:{marginTop:e.spacing(8)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},pageTitle:{marginBottom:e.spacing(3)},resetPasswordFormSentWrapper:{},resetPasswordFormWrapper:{},submit:{margin:e.spacing(3,0,2)}}}));a.default=function(){var e=O(),a=Object(f.b)().enqueueSnackbar,t=Object(j.i)(),u=t.userId,p=t.token,w=Object(n.useState)(""),x=Object(r.a)(w,2),k=x[0],y=x[1],S=Object(n.useState)(""),P=Object(r.a)(S,2),N=P[0],C=P[1],T=Object(n.useState)([]),W=Object(r.a)(T,2),I=W[0],J=W[1],q=Object(n.useState)(!1),A=Object(r.a)(q,2),F=A[0],B=A[1];return Object(h.jsxs)(c.a,{component:"main",maxWidth:"xs",className:e.root,children:[Object(h.jsx)(i.a,{}),Object(h.jsxs)("div",{className:e.paper,children:[Object(h.jsx)(s.a,{className:e.avatar,children:Object(h.jsx)(m.a,{className:e.lockIcon})}),Object(h.jsx)(d.a,{component:"h1",variant:"h2",className:e.pageTitle,children:"Update your password"}),Object(h.jsx)(b.a,{errors:I}),F&&Object(h.jsx)(g.a,{header:"Your password has been saved.",loginText:"Sign back in"}),!F&&Object(h.jsx)("div",{className:e.resetPasswordFormWrapper,children:Object(h.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(h.jsx)(l.a,{value:k,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return y(e.target.value)},onBlur:function(e){return function(e){e.target.value.length<8?J([{value:e.target.value,msg:"Too Weak. Must be atleast 8 Characters",param:"user.password"}]):J([])}(e)}}),Object(h.jsx)(l.a,{value:N,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){return C(e.target.value)},onBlur:function(e){return N!==k&&J([{value:"password: ".concat(k," confirmPassword ").concat(N),msg:"Password and ConfirmPassword must be same!"}]),void(N===k&&J([]))}}),Object(h.jsx)(o.a,{fullWidth:!0,disabled:!k||!N||k!==N,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return e.preventDefault(),v.a.resetPassword(u,p,k).then((function(e){a("".concat(e.data.message),{variant:"success"}),B(!0)}),(function(e){if(e.response){var a=e.response,t=a.data,r=a.status;J(400===r?t.message:[])}})),y(""),void C("")},children:"Submit"})]})})]})]})}},557:function(e,a,t){"use strict";t(0);var r=t(577),n=t(1),s=function(e){var a=e.errors,t=e.variant,s=e.children;return Object(n.jsx)(n.Fragment,{children:a&&a.map((function(e,a){return Object(n.jsxs)(r.a,{severity:"error",variant:t,children:[e.msg,s]},a)}))})};s.defaultProps={errors:null,children:null,variant:"outlined"},a.a=s},687:function(e,a,t){"use strict";var r=t(21),n=t.n(r),s=t(33),o=t(533),c=t(534),i=t(56),u=t.n(i),l=t(44),d=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(){var e=Object(s.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(l.a,"/auth/login"),{email:a.email,password:a.password});case 2:if(!(t=e.sent).data){e.next=6;break}return t.data.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data.data)),e.abrupt("return",t.data);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"passwordChangeRequest",value:function(e){return u.a.post("".concat(l.a,"/auth/reset_password/user/").concat(e))}},{key:"resetPassword",value:function(e,a,t){return u.a.post("".concat(l.a,"/auth/reset/").concat(e,"/").concat(a),{password:t})}},{key:"register",value:function(e){return u.a.post("".concat(l.a,"/auth/signup"),e)}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"checkAuth",value:function(){var e=JSON.parse(localStorage.getItem("user"));return!(!e||!e.accessToken)}},{key:"validate",value:function(e){return u.a.post("".concat(l.a,"/auth/field/validate"),e)}}]),e}();a.a=new d},992:function(e,a,t){"use strict";t(0);var r=t(420),n=t(421),s=t(454),o=t(436),c=t(1),i=Object(o.a)((function(e){return{root:{margin:e.spacing(3),textAlign:"center",fontSize:"15px",lineHeight:"24px"}}})),u=function(e){var a=e.header,t=e.loginText,o=i();return Object(c.jsx)(r.a,{className:o.root,variant:"outlined",children:Object(c.jsx)(n.a,{children:Object(c.jsxs)("p",{children:[a," ",Object(c.jsx)(s.a,{href:"/login_client",children:t})]})})})};u.defaultProps={header:null,loginText:null},a.a=u}}]);
//# sourceMappingURL=75.6756ad0d.chunk.js.map