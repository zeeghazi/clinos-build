(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[58],{1095:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(0),i=n.n(r),c=n(434),s=n(414),o=n(410),l=n(441),u=n(438),d=n(454),f=n(436),p=n(439),g=n(95),m=n(200),x=n.n(m),j=n(99),b=n(92),h=n(630),v=n(557),O=n(687),w=n(608),y=n(992),S=n(1),k=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"transparent",color:e.palette.text.secondary},lockIcon:{fontSize:"40px"},pageTitle:{marginBottom:e.spacing(3)},Error:{marginTop:e.spacing(2)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},meta:{textAlign:"right","& a":{color:e.palette.text.secondary}}}}));t.default=function(){var e=k(),t=Object(j.b)().enqueueSnackbar,n=Object(r.useState)(""),f=Object(a.a)(n,2),m=f[0],C=f[1],I=i.a.useState([]),N=Object(a.a)(I,2),E=N[0],W=N[1],T=Object(r.useState)(!1),z=Object(a.a)(T,2),M=z[0],V=z[1],A=Object(r.useState)(!1),R=Object(a.a)(A,2),_=R[0],D=R[1],F=Object(b.d)((function(e){return e.common.success}),b.b);return Object(S.jsxs)(o.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(l.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(c.a,{className:e.avatar,children:Object(S.jsx)(x.a,{className:e.lockIcon})}),Object(S.jsx)(g.a,{component:"h1",variant:"h2",className:e.pageTitle,children:"Forgot password"}),Object(S.jsx)(v.a,{errors:E,children:M&&Object(S.jsx)(d.a,{href:"/signup",children:" Go to user registration"})}),F&&Object(S.jsx)(y.a,{header:"If that account in our system then we have sent an email with instructions to reset your password!",loginText:"Sign back in"}),!F&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{children:"It happens to the best of us. Enter your email and we'll send you reset instructions."}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),D(!0),O.a.passwordChangeRequest(m).then((function(e){D(!1),t("".concat(m," ").concat(e.data.message),{variant:"success"}),W([])}),(function(e){if(D(!1),e.response){var t=e.response,n=t.data,a=t.status;W(400===a?n.message:[]),n&&n.user&&null===n.user.sign_dt&&V(!0),n&&n.user&&null===n.user.email_confirm_dt&&(V(!1),w.a.resendEmailVerification(e.response.data.user).then((function(e){console.info("resendEmailVerification response",e.response)}),(function(e){console.error("resendEmailVerification error.response",e.response)})))}})),C("")},children:[Object(S.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return C(e.target.value)},inputProps:{maxLength:255},helperText:"".concat(m.length>=255?"Enter an email between 255 charecter":"")}),Object(S.jsx)(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!m,children:"Reset"}),Object(S.jsx)(u.a,{container:!0,className:e.meta,children:Object(S.jsx)(u.a,{item:!0,xs:!0,children:Object(S.jsx)(d.a,{href:"/login_client",variant:"body2",children:"Login"})})})]})]})]}),Object(S.jsx)(h.a,{isOpen:_})]})}},438:function(e,t,n){"use strict";var a=n(5),r=n(2),i=n(0),c=(n(6),n(3)),s=n(7),o=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=i.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,o=e.alignItems,l=void 0===o?"stretch":o,u=e.classes,d=e.className,f=e.component,p=void 0===f?"div":f,g=e.container,m=void 0!==g&&g,x=e.direction,j=void 0===x?"row":x,b=e.item,h=void 0!==b&&b,v=e.justify,O=void 0===v?"flex-start":v,w=e.lg,y=void 0!==w&&w,S=e.md,k=void 0!==S&&S,C=e.sm,I=void 0!==C&&C,N=e.spacing,E=void 0===N?0:N,W=e.wrap,T=void 0===W?"wrap":W,z=e.xl,M=void 0!==z&&z,V=e.xs,A=void 0!==V&&V,R=e.zeroMinWidth,_=void 0!==R&&R,D=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=Object(c.a)(u.root,d,m&&[u.container,0!==E&&u["spacing-xs-".concat(String(E))]],h&&u.item,_&&u.zeroMinWidth,"row"!==j&&u["direction-xs-".concat(String(j))],"wrap"!==T&&u["wrap-xs-".concat(String(T))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==s&&u["align-content-xs-".concat(String(s))],"flex-start"!==O&&u["justify-xs-".concat(String(O))],!1!==A&&u["grid-xs-".concat(String(A))],!1!==I&&u["grid-sm-".concat(String(I))],!1!==k&&u["grid-md-".concat(String(k))],!1!==y&&u["grid-lg-".concat(String(y))],!1!==M&&u["grid-xl-".concat(String(M))]);return i.createElement(p,Object(r.a)({className:F,ref:t},D))})),f=Object(s.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return o.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=f},557:function(e,t,n){"use strict";n(0);var a=n(577),r=n(1),i=function(e){var t=e.errors,n=e.variant,i=e.children;return Object(r.jsx)(r.Fragment,{children:t&&t.map((function(e,t){return Object(r.jsxs)(a.a,{severity:"error",variant:n,children:[e.msg,i]},t)}))})};i.defaultProps={errors:null,children:null,variant:"outlined"},t.a=i},608:function(e,t,n){"use strict";var a=n(533),r=n(534),i=n(56),c=n.n(i),s=n(44),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"sendEmailVerification",value:function(e){return c.a.post("".concat(s.a,"/email/send/verification/"),e)}},{key:"resendEmailVerification",value:function(e){return c.a.post("".concat(s.a,"/email/resend/verification/"),e)}},{key:"emailVerify",value:function(e,t){return c.a.get("".concat(s.a,"/email/confirmation/").concat(e,"/").concat(t))}}]),e}();t.a=new o},630:function(e,t,n){"use strict";n(0);var a=n(334),r=n(422),i=n(436),c=n(1),s=Object(i.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));t.a=function(e){var t=e.isOpen,n=s();return Object(c.jsx)(a.a,{className:n.backdrop,open:t,onClick:function(){},children:Object(c.jsx)(r.a,{color:"inherit"})})}},687:function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(33),c=n(533),s=n(534),o=n(56),l=n.n(o),u=n(44),d=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"login",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("".concat(u.a,"/auth/login"),{email:t.email,password:t.password});case 2:if(!(n=e.sent).data){e.next=6;break}return n.data.data.accessToken&&localStorage.setItem("user",JSON.stringify(n.data.data)),e.abrupt("return",n.data);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"passwordChangeRequest",value:function(e){return l.a.post("".concat(u.a,"/auth/reset_password/user/").concat(e))}},{key:"resetPassword",value:function(e,t,n){return l.a.post("".concat(u.a,"/auth/reset/").concat(e,"/").concat(t),{password:n})}},{key:"register",value:function(e){return l.a.post("".concat(u.a,"/auth/signup"),e)}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"checkAuth",value:function(){var e=JSON.parse(localStorage.getItem("user"));return!(!e||!e.accessToken)}},{key:"validate",value:function(e){return l.a.post("".concat(u.a,"/auth/field/validate"),e)}}]),e}();t.a=new d},992:function(e,t,n){"use strict";n(0);var a=n(420),r=n(421),i=n(454),c=n(436),s=n(1),o=Object(c.a)((function(e){return{root:{margin:e.spacing(3),textAlign:"center",fontSize:"15px",lineHeight:"24px"}}})),l=function(e){var t=e.header,n=e.loginText,c=o();return Object(s.jsx)(a.a,{className:c.root,variant:"outlined",children:Object(s.jsx)(r.a,{children:Object(s.jsxs)("p",{children:[t," ",Object(s.jsx)(i.a,{href:"/login_client",children:n})]})})})};l.defaultProps={header:null,loginText:null},t.a=l}}]);
//# sourceMappingURL=58.9e4d85f4.chunk.js.map