(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[67],{1122:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return te}));var n=a(29),c=a(0),r=a(436),o=a(438),i=a(95),l=a(414),s=a(450),u=a(453),d=a(447),m=a(442),b=a(443),j=a(444),p=a(446),h=a(445),O=a(413),f=a(541),g=a.n(f),x=a(554),v=a.n(x),C=a(195),y=a(43),k=a.n(y),w=a(99),S=a(544),N=a(550),_=a(16),z=a(533),B=a(534),M=a(56),T=a.n(M),R=a(44),L=a(57),Y=new(function(){function e(){Object(z.a)(this,e)}return Object(B.a)(e,[{key:"getLabRanges",value:function(){return T.a.get("".concat(R.a,"/client-ranges"),{headers:Object(L.a)()}).then((function(e){return e.data}))}},{key:"searchTests",value:function(e){return T.a.get("".concat(R.a,"/client-range/test/search?query=").concat(e),{headers:Object(L.a)()}).then((function(e){return e.data}))}},{key:"createLabRange",value:function(e){return T.a.post("".concat(R.a,"/client-range"),e,{headers:Object(L.a)()}).then((function(e){return e.data}))}},{key:"updateLabRange",value:function(e,t){return T.a.put("".concat(R.a,"/client-range/").concat(t),e,{headers:Object(L.a)()}).then((function(e){return e.data}))}},{key:"deleteLabRange",value:function(e,t){return T.a.delete("".concat(R.a,"/client-range/").concat(t),{headers:Object(L.a)(),data:e}).then((function(e){return e.data}))}},{key:"resetLabRanges",value:function(){return T.a.post("".concat(R.a,"/client-range/reset"),null,{headers:Object(L.a)()}).then((function(e){return e.data}))}},{key:"updateLabRangeUse",value:function(e){return T.a.put("".concat(R.a,"/auth/client/functional-range"),e,{headers:Object(L.a)()}).then((function(e){return e.data}))}}]),e}()),H=a(64),q=a(13),F=a(4),W=a(439),D=a(97),I=a(332),E=a(329),A=a(424),P=a(426),G=a(553),U=a(558),J=[{label:"",value:""},{label:"Age",value:"A"},{label:"Gender",value:"G"}],V=[{label:"",value:""},{label:"=",value:"="}],K=[{label:"",value:""},{label:">",value:">"},{label:"<",value:"<"},{label:"=",value:"="},{label:"<=",value:"<="},{label:">=",value:">="}],Q=[{label:"",value:""},{label:"Male",value:"M"},{label:"Female",value:"F"}],X=a(1),Z=Object(r.a)((function(e){return{relativePosition:{position:"relative"},inputRow:{margin:e.spacing(3,0)},gutterBottom:{marginBottom:e.spacing(2)},buttonsContainer:{margin:e.spacing(0,0,3,0)},w100:{width:100},ml2:{marginLeft:e.spacing(2)},resultsContainer:{position:"absolute",zIndex:2,width:"100%",background:e.palette.common.white,maxHeight:150,overflow:"scroll"},menuOption:{minHeight:26}}})),$=function(e){var t=Z(),a=Object(w.b)().enqueueSnackbar,r=e.isOpen,i=e.onClose,s=e.reloadData,u=e.selectedItem,d=e.userName,m=Object(c.useMemo)((function(){return Object(C.isEmpty)(u)}),[u]),b=Object(c.useState)(null),j=Object(n.a)(b,2),p=j[0],h=j[1],O=Object(c.useState)(""),f=Object(n.a)(O,2),g=f[0],x=f[1],v=Object(c.useState)([]),y=Object(n.a)(v,2),S=y[0],N=y[1],_=Object(c.useState)({sequence:1,compareItem:"",compareOperator:"",compareTo:"",rangeLow:"",rangeHigh:"",created:"".concat(k()().format("MMM DD YYYY")," ").concat(d),updated:"".concat(k()().format("MMM DD YYYY")," ").concat(d)}),z=Object(n.a)(_,2),B=z[0],M=z[1];Object(c.useEffect)((function(){m||function(){var e=k()(u.created).format("MMM DD YYYY"),t=k()(u.updated).format("MMM DD YYYY");B.sequence=u.seq,B.compareItem=u.compare_item,B.compareOperator=u.compare_operator,B.compareTo=u.compare_to,B.rangeLow=u.range_low,B.rangeHigh=u.range_high,B.created="".concat(e," ").concat(u.created_user||""),B.updated="".concat(t," ").concat(u.updated_user||""),M(Object(F.a)({},B)),x(u.marker_name)}()}),[m,u]);var T=function(e){var t=e.target,a=t.value,n=t.name;M(Object(F.a)(Object(F.a)({},B),{},Object(q.a)({},n,"compareTo"===n?a.substring(0,2):a)))},R=Object(c.useCallback)((function(e,t){e.preventDefault(),Y.searchTests(t).then((function(e){N(e.data)}))}),[]);Object(U.a)((function(){g.length||N([])}),[g]);var L=function(e){B[e].length&&M(Object(F.a)(Object(F.a)({},B),{},Object(q.a)({},e,Number(B[e]).toFixed(2))))};return Object(X.jsx)(G.a,{open:r,title:"".concat(m?"New":"Edit"," Marker Range"),message:Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(o.a,{item:!0,lg:8,children:[Object(X.jsx)("form",{onSubmit:function(e){return R(e,g)},children:Object(X.jsxs)(o.a,{container:!0,alignItems:"center",className:t.gutterBottom,children:[Object(X.jsxs)(o.a,{item:!0,xs:8,className:t.relativePosition,children:[Object(X.jsx)(W.a,{fullWidth:!0,autoFocus:!!m,label:"Marker",size:"small",variant:"outlined",value:g,onChange:function(e){return x(e.target.value)},inputProps:{readOnly:!m}}),S.length?Object(X.jsx)(D.a,{className:t.resultsContainer,children:Object(X.jsx)(I.a,{children:S.map((function(e){return Object(X.jsx)(E.a,{button:!0,onClick:function(){return h(t=e),x(t.name),void N([]);var t},children:Object(X.jsx)(A.a,{primary:e.name})},e.id)}))})}):null]}),m&&Object(X.jsx)(l.a,{variant:"outlined",type:"submit",className:t.ml2,children:"Search"})]})}),Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={data:{marker_id:m?null===p||void 0===p?void 0:p.id:null===u||void 0===u?void 0:u.marker_id,seq:Number(B.sequence),compare_item:B.compareItem,compare_operator:B.compareOperator,compare_to:B.compareTo,range_low:B.rangeLow,range_high:B.rangeHigh}};if(m)p?Y.createLabRange(t).then((function(e){a("".concat(e.message),{variant:"success"}),s(),i()})):a("Please select marker",{variant:"error"});else{var n=u.id;Y.updateLabRange(t,n).then((function(e){a("".concat(e.message),{variant:"success"}),s(),i()}))}},children:[Object(X.jsxs)(o.a,{item:!0,lg:8,children:[Object(X.jsx)(W.a,{variant:"outlined",name:"sequence",id:"sequence",type:"number",label:"Sequence",size:"small",required:!0,fullWidth:!0,className:t.gutterBottom,value:B.sequence,onChange:function(e){return function(e){var t=e.target,a=t.value,n=t.name,c=parseInt(a);return c?M(Object(F.a)(Object(F.a)({},B),{},Object(q.a)({},n,c))):""===a&&M(Object(F.a)(Object(F.a)({},B),{},Object(q.a)({},n,a))),null}(e)}}),Object(X.jsx)(W.a,{select:!0,variant:"outlined",name:"compareItem",id:"compareItem",type:"number",label:"Compare Item",size:"small",fullWidth:!0,className:t.gutterBottom,value:B.compareItem,onChange:function(e){return T(e)},children:J.map((function(e){return Object(X.jsx)(P.a,{value:e.value,className:t.menuOption,children:e.label},e.value)}))}),Object(X.jsx)(W.a,{select:!0,variant:"outlined",name:"compareOperator",id:"compareOperator",type:"number",label:"Compare Operator",size:"small",fullWidth:!0,className:t.gutterBottom,value:B.compareOperator,onChange:function(e){return T(e)},children:"A"===B.compareItem?K.map((function(e){return Object(X.jsx)(P.a,{value:e.value,className:t.menuOption,children:e.label},e.value)})):V.map((function(e){return Object(X.jsx)(P.a,{value:e.value,className:t.menuOption,children:e.label},e.value)}))}),Object(X.jsx)(W.a,{select:"G"===B.compareItem,variant:"outlined",name:"compareTo",id:"compareTo",type:"number",label:"Compare To",size:"small",fullWidth:!0,className:t.gutterBottom,value:B.compareTo,onChange:function(e){return T(e)},children:Q.map((function(e){return Object(X.jsx)(P.a,{value:e.value,className:t.menuOption,children:e.label},e.value)}))}),Object(X.jsx)(W.a,{variant:"outlined",name:"rangeLow",id:"rangeLow",type:"number",label:"Range Low",size:"small",required:!0,fullWidth:!0,className:t.gutterBottom,value:B.rangeLow,onChange:function(e){return T(e)},onBlur:function(){return L("rangeLow")}}),Object(X.jsx)(W.a,{variant:"outlined",name:"rangeHigh",id:"rangeHigh",type:"number",label:"Range High",size:"small",required:!0,fullWidth:!0,className:t.gutterBottom,value:B.rangeHigh,onChange:function(e){return T(e)},onBlur:function(){return L("rangeHigh")}}),Object(X.jsx)(W.a,{variant:"outlined",name:"created",id:"created",type:"text",label:"Created",size:"small",required:!0,fullWidth:!0,className:t.gutterBottom,value:B.created,onChange:function(e){return T(e)},inputProps:{readOnly:!0}}),Object(X.jsx)(W.a,{variant:"outlined",name:"updated",id:"updated",type:"text",label:"Updated",size:"small",required:!0,fullWidth:!0,className:t.gutterBottom,value:B.updated,onChange:function(e){return T(e)},inputProps:{readOnly:!0}})]}),Object(X.jsx)(o.a,{container:!0,className:t.buttonsContainer,justify:"space-between",children:Object(X.jsx)(l.a,{variant:"outlined",type:"submit",className:t.w100,children:"Save"})})]})]})}),cancelForm:function(){return i()},hideActions:!0,size:"sm"})},ee=Object(r.a)((function(e){return{root:{flexGrow:1,padding:"25px 0px"},w100:{minWidth:100},mb2:{marginBottom:e.spacing(2)},labelContainer:{pointerEvents:"none"},pointerEnable:{pointerEvents:"auto"},title:{fontSize:"1.7em"},text:{lineHeight:"22px",fontSize:12},iconButton:{padding:e.spacing(.25),"& svg":{fontSize:"1rem"}},switchLabel:{marginRight:e.spacing(1),fontSize:14,fontWeight:500,lineHeight:1.75,borderRadius:4,letterSpacing:"0.02857em",textTransform:"capitalize"}}})),te=function(){var e=ee(),t=Object(_.a)().user,a=t.client_id,r=t.firstname,f=t.lastname,x=Object(w.b)().enqueueSnackbar,y=Object(c.useState)({}),z=Object(n.a)(y,2),B=z[0],M=z[1],T=Object(c.useState)(!1),R=Object(n.a)(T,2),L=R[0],q=R[1],F=Object(c.useState)(!1),W=Object(n.a)(F,2),D=W[0],I=W[1],E=Object(c.useState)(!0),A=Object(n.a)(E,2),P=A[0],G=A[1],U=Object(c.useState)([]),J=Object(n.a)(U,2),V=J[0],K=J[1],Q=Object(c.useState)(!1),Z=Object(n.a)(Q,2),te=Z[0],ae=Z[1],ne=Object(c.useState)(!0),ce=Object(n.a)(ne,2),re=ce[0],oe=ce[1],ie=function(){M({}),ae((function(e){return!e}))},le=function(){I((function(e){return!e}))},se=function(){1===a?x("This function is not available for client #1",{variant:"error"}):I((function(e){return!e}))},ue=Object(c.useCallback)((function(){Y.getLabRanges().then((function(e){K(e.data),oe(!1)})).catch((function(){oe(!1)}))}),[]);Object(c.useEffect)((function(){ue()}),[ue]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(S.a,{open:D,title:"Confirm Reset",message:"Are you sure you want to reset all custom marker ranges to the original values?",applyButtonText:"Reset",cancelButtonText:"Cancel",applyForm:function(){Y.resetLabRanges().then((function(e){x("".concat(e.message),{variant:"success"}),le()}))},cancelForm:le}),Object(X.jsx)(S.a,{open:te,title:"Confirm Delete",message:"Are you sure you want to delete this custom marker range?",applyButtonText:"Delete",cancelButtonText:"Cancel",applyForm:function(){return function(e){var t=e.id,a={data:{marker_id:e.marker_id,seq:e.seq,compare_item:e.compare_item,compare_operator:e.compare_operator,compare_to:e.compare_to}};Y.deleteLabRange(a,t).then((function(e){x("".concat(e.message),{variant:"success"}),ie(),ue()}))}(B)},cancelForm:ie}),!!L&&Object(X.jsx)($,{isOpen:L,onClose:function(){Object(C.isEmpty)(B)||M({}),q(!1)},reloadData:ue,selectedItem:B,userName:"".concat(r," ").concat(f)}),Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsxs)(o.a,{container:!0,justify:"space-between",className:e.mb2,children:[Object(X.jsx)(o.a,{item:!0,lg:6,children:Object(X.jsxs)(o.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(X.jsx)(i.a,{component:"h1",variant:"h2",color:"textPrimary",className:e.title,children:"Marker Ranges"}),Object(X.jsx)(l.a,{variant:"outlined",className:e.w100,onClick:function(){return q(!0)},children:"New"}),Object(X.jsx)(s.a,{control:Object(X.jsx)(u.a,{checked:P,color:"primary",size:"medium",name:"switchBox",onChange:function(e,t){G((function(e){return!e}));var a={data:{functional_range:t?1:0}};Y.updateLabRangeUse(a).then((function(e){x(e.message,{variant:"success"})}))},inputProps:{"aria-label":"secondary checkbox"},className:e.pointerEnable}),label:"Use Custom Marker Ranges",labelPlacement:"start",classes:{label:e.switchLabel,root:e.labelContainer}})]})}),Object(X.jsx)(o.a,{item:!0,children:Object(X.jsx)(l.a,{variant:"outlined",component:"label",className:e.w100,onClick:function(){return se()},disabled:!V.length,children:"Reset Values"})})]}),Object(X.jsx)(d.a,{className:e.mb2,children:Object(X.jsxs)(m.a,{size:"small",className:e.table,children:[Object(X.jsx)(b.a,{children:Object(X.jsxs)(j.a,{children:[Object(X.jsx)(N.b,{children:"Marker"}),Object(X.jsx)(N.b,{children:"Sequence"}),Object(X.jsx)(N.b,{children:"Compare Item"}),Object(X.jsx)(N.b,{children:"Operator"}),Object(X.jsx)(N.b,{children:"Compare To"}),Object(X.jsx)(N.b,{children:"Low"}),Object(X.jsx)(N.b,{children:"High"}),Object(X.jsx)(N.b,{children:"Created"}),Object(X.jsx)(N.b,{children:"Updated"}),Object(X.jsx)(N.b,{align:"center",children:"Actions"})]})}),Object(X.jsx)(p.a,{children:V&&V.length?V.map((function(t){return Object(X.jsxs)(N.d,{children:[Object(X.jsx)(h.a,{children:t.marker_name}),Object(X.jsx)(h.a,{children:t.seq}),Object(X.jsx)(h.a,{children:Object(H.x)(t.compare_item)}),Object(X.jsx)(h.a,{children:t.compare_operator}),Object(X.jsx)(h.a,{children:"G"===t.compare_item?Object(H.x)(t.compare_to):t.compare_to}),Object(X.jsx)(h.a,{children:t.range_low}),Object(X.jsx)(h.a,{children:t.range_high}),Object(X.jsx)(h.a,{children:t.created?k()(t.created).format("MMM D YYYY"):""}),Object(X.jsx)(h.a,{children:t.updated?k()(t.updated).format("MMM D YYYY"):""}),Object(X.jsxs)(h.a,{align:"center",children:[Object(X.jsx)(O.a,{className:e.iconButton,onClick:function(){return function(e){M(e),q(!0)}(t)},children:Object(X.jsx)(v.a,{fontSize:"small"})}),Object(X.jsx)(O.a,{className:e.iconButton,onClick:function(){return function(e){M(e),ae((function(e){return!e}))}(t)},children:Object(X.jsx)(g.a,{fontSize:"small"})})]})]},"".concat(t.marker_id,"_").concat(t.marker_name,"_").concat(t.seq))})):Object(X.jsx)(N.d,{children:Object(X.jsx)(h.a,{colSpan:10,children:Object(X.jsx)(i.a,{className:e.text,align:"center",variant:"body1",children:re?"Fetching marker ranges...":"No Records Found..."})})})})]})})]})]})}},544:function(e,t,a){"use strict";a(0);var n=a(95),c=a(414),r=a(455),o=a(452),i=a(456),l=a(451),s=a(436),u=a(350),d=a(1),m=Object(s.a)((function(e){return Object(u.a)({titleContainer:{minHeight:50,backgroundColor:e.palette.primary.main,"& h5":{color:e.palette.common.white}},content:{padding:"1rem 1.5rem"},actionsContainer:{padding:"1rem 1.5rem",justifyContent:"space-between"},w100:{minWidth:100}})})),b=function(e){var t=e.title,a=e.open,s=e.message,u=e.applyForm,b=e.cancelForm,j=e.applyButtonText,p=e.cancelButtonText,h=e.size,O=m();return Object(d.jsxs)(r.a,{open:a,onClose:b,fullWidth:!0,maxWidth:h,disableBackdropClick:!0,children:[Object(d.jsx)(l.a,{disableTypography:!0,className:O.titleContainer,id:"form-dialog-title",children:Object(d.jsx)(n.a,{variant:"h5",children:t})}),Object(d.jsx)(i.a,{className:O.content,children:Object(d.jsx)(n.a,{variant:"h5",children:s})}),Object(d.jsxs)(o.a,{classes:{root:O.actionsContainer},children:[Object(d.jsx)(c.a,{className:O.w100,onClick:b,type:"submit",variant:"outlined",disableElevation:!0,children:p}),Object(d.jsx)(c.a,{className:O.w100,onClick:u,type:"submit",variant:"outlined",color:"primary",disableElevation:!0,children:j})]})]})};b.defaultProps={title:"",message:"",applyForm:function(){},cancelForm:function(){},applyButtonText:"Continue",cancelButtonText:"Cancel",size:"xs"},t.a=b},550:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return s}));var n=a(7),c=a(445),r=a(444),o=Object(n.a)((function(e){return{head:{backgroundColor:e.palette.grey,color:e.palette.grey,fontSize:"12px",fontWeight:700},body:{fontSize:14}}}))(c.a),i=Object(n.a)((function(){return{head:{whiteSpace:"nowrap",fontSize:"12px",fontWeight:700,padding:"6px 24px 6px 2px",borderBottom:"unset",background:"white"},body:{fontSize:12,borderBottom:"unset"}}}))(c.a),l=Object(n.a)((function(e){return{root:{"& p":{fontSize:12,lineHeight:"21px"},fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12,whiteSpace:"nowrap",padding:"2px 16px 2px 2px"},"& td":{fontSize:12,whiteSpace:"nowrap",padding:"2px 16px 2px 2px"}}}}))(r.a),s=Object(n.a)((function(e){return{root:{fontSize:14,"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& th":{fontSize:12},"& td":{fontSize:12,height:"50px"}}}}))(r.a)},553:function(e,t,a){"use strict";var n=a(13),c=(a(0),a(413)),r=a(95),o=a(414),i=a(455),l=a(452),s=a(456),u=a(451),d=a(436),m=a(350),b=a(570),j=a.n(b),p=a(3),h=a(1),O=Object(d.a)((function(e){return Object(m.a)({titleContainer:{textAlign:"center",borderBottom:"1px solid #ddd",minHeight:53},content:{padding:"1rem 2rem",maxHeight:"86vh"},fullScreenContent:{maxHeight:"unset"},fullHeight:{minHeight:"86vh"},buttonClose:{position:"absolute",right:e.spacing(1),top:e.spacing(1),padding:e.spacing(1)},save:{background:e.palette.success,minWidth:100},cancel:{background:e.palette.error,minWidth:100}})})),f=function(e){var t,a=e.title,d=e.open,m=e.message,b=e.applyForm,f=e.cancelForm,g=e.hideActions,x=e.applyButtonText,v=e.cancelButtonText,C=e.size,y=e.fullScreen,k=e.fullHeight,w=e.transitionComponent,S=O();return Object(h.jsx)("div",{children:Object(h.jsxs)(i.a,{fullScreen:Boolean(y),open:d,onClose:f,fullWidth:!0,maxWidth:C,TransitionComponent:w,children:[f&&Object(h.jsx)(c.a,{className:S.buttonClose,onClick:f,"aria-label":"close",children:Object(h.jsx)(j.a,{fontSize:"small"})}),Object(h.jsx)(u.a,{disableTypography:!0,className:S.titleContainer,id:"form-dialog-title",children:Object(h.jsx)(r.a,{variant:"h5",children:a})}),Object(h.jsx)(s.a,{className:Object(p.a)((t={},Object(n.a)(t,S.content,!0),Object(n.a)(t,S.fullHeight,k),Object(n.a)(t,S.fullScreenContent,y),t)),children:m}),g?null:Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{align:"center",children:[b&&Object(h.jsx)(o.a,{className:S.save,onClick:b,color:"primary",type:"submit",variant:"contained",children:x}),f&&Object(h.jsx)(o.a,{className:S.cancel,onClick:f,color:"secondary",type:"submit",variant:"contained",children:v})]})})]})})};f.defaultProps={title:"",message:null,applyForm:function(){},cancelForm:function(){},hideActions:!0,applyButtonText:"Continue",cancelButtonText:"Cancel",size:"lg",fullScreen:!1,fullHeight:!1,transitionComponent:void 0},t.a=f},558:function(e,t,a){"use strict";var n=a(0);t.a=function(e,t){var a=Object(n.useRef)(!1);Object(n.useEffect)((function(){a.current?e():a.current=!0}),t)}}}]);
//# sourceMappingURL=67.b7d7825e.chunk.js.map