(this.webpackJsonpAvonEMR=this.webpackJsonpAvonEMR||[]).push([[77],{1100:function(e,a,t){"use strict";t.r(a);var n=t(29),r=t(0),s=t(434),c=t(414),o=t(410),i=t(441),u=t(436),l=t(439),d=t(95),p=t(200),m=t.n(p),j=t(99),b=t(28),f=t(557),v=t(609),h=t(996),g=t(1),O=Object(u.a)((function(e){return{root:{marginTop:e.spacing(8)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},pageTitle:{marginBottom:e.spacing(3)},resetPasswordFormSentWrapper:{},resetPasswordFormWrapper:{},submit:{margin:e.spacing(3,0,2)}}}));a.default=function(){var e=O(),a=Object(j.b)().enqueueSnackbar,t=Object(b.i)(),u=t.patientId,p=t.token,w=Object(r.useState)(""),x=Object(n.a)(w,2),k=x[0],y=x[1],P=Object(r.useState)(""),S=Object(n.a)(P,2),C=S[0],N=S[1],T=Object(r.useState)(""),W=Object(n.a)(T,2),q=W[0],F=W[1],I=Object(r.useState)([]),A=Object(n.a)(I,2),B=A[0],J=A[1],M=Object(r.useState)(!1),R=Object(n.a)(M,2),_=R[0],D=R[1];return Object(g.jsxs)(o.a,{component:"main",maxWidth:"xs",className:e.root,children:[Object(g.jsx)(i.a,{}),Object(g.jsxs)("div",{className:e.paper,children:[Object(g.jsx)(s.a,{className:e.avatar,children:Object(g.jsx)(m.a,{className:e.lockIcon})}),Object(g.jsx)(d.a,{component:"h1",variant:"h2",className:e.pageTitle,children:"Update your password"}),Object(g.jsx)(f.a,{errors:B}),_&&q&&Object(g.jsx)(h.a,{header:"Your password has been saved.",loginText:"Sign back in",client:q}),!_&&Object(g.jsx)("div",{className:e.resetPasswordFormWrapper,children:Object(g.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(g.jsx)(l.a,{value:k,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return y(e.target.value)},onBlur:function(e){return function(e){e.target.value.length<8?J([{value:e.target.value,msg:"Too Weak. Must be atleast 8 Characters",param:"user.password"}]):J([])}(e)}}),Object(g.jsx)(l.a,{value:C,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){return N(e.target.value)},onBlur:function(e){return C!==k&&J([{value:"password: ".concat(k," confirmPassword ").concat(C),msg:"Password and ConfirmPassword must be same!"}]),void(C===k&&J([]))}}),Object(g.jsx)(c.a,{fullWidth:!0,disabled:!k||!C||k!==C,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return e.preventDefault(),v.a.resetPassword(u,p,k).then((function(e){a("".concat(e.data.message),{variant:"success"}),F(e.data.data.client),D(!0)}),(function(e){if(e.response){D(!1);var a=e.response,t=a.data,n=a.status;J(400===n?t.message:[])}})),y(""),void N("")},children:"Submit"})]})})]})]})}},557:function(e,a,t){"use strict";t(0);var n=t(577),r=t(1),s=function(e){var a=e.errors,t=e.variant,s=e.children;return Object(r.jsx)(r.Fragment,{children:a&&a.map((function(e,a){return Object(r.jsxs)(n.a,{severity:"error",variant:t,children:[e.msg,s]},a)}))})};s.defaultProps={errors:null,children:null,variant:"outlined"},a.a=s},609:function(e,a,t){"use strict";var n=t(21),r=t.n(n),s=t(33),c=t(533),o=t(534),i=t(56),u=t.n(i),l=t(44),d=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(){var e=Object(s.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(l.a,"/auth/patient/login"),{client_id:a.client_id,email:a.email,password:a.password});case 2:if(!(t=e.sent).data){e.next=6;break}return t.data.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data.data)),e.abrupt("return",t.data);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"getClientCode",value:function(e){return u.a.get("".concat(l.a,"/auth/patient/client/?c=").concat(e)).then((function(e){return e.data}))}},{key:"validate",value:function(e){return u.a.post("".concat(l.a,"/auth/field/validate"),e)}},{key:"register",value:function(e){return u.a.post("".concat(l.a,"/auth/patient/signup"),e)}},{key:"passwordChangeRequest",value:function(e,a){return u.a.post("".concat(l.a,"/auth/patient/reset_password/").concat(e),a)}},{key:"resetPassword",value:function(e,a,t){return u.a.post("".concat(l.a,"/auth/patient/reset/").concat(e,"/").concat(a),{password:t})}}]),e}();a.a=new d},996:function(e,a,t){"use strict";t(0);var n=t(420),r=t(421),s=t(454),c=t(436),o=t(1),i=Object(c.a)((function(e){return{root:{margin:e.spacing(3),textAlign:"center",fontSize:"15px",lineHeight:"24px"}}})),u=function(e){var a=e.header,t=e.loginText,c=e.client,u=i();return Object(o.jsx)(n.a,{className:u.root,variant:"outlined",children:Object(o.jsx)(r.a,{children:Object(o.jsxs)("p",{children:[a," ",Object(o.jsx)(s.a,{href:"/login/".concat(c.code),children:t})]})})})};u.defaultProps={client:null},a.a=u}}]);
//# sourceMappingURL=77.773fbf11.chunk.js.map